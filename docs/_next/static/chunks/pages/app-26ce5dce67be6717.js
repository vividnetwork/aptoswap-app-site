(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{89301:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return c(16860)}])},16860:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return U}});var d=c(47568),e=c(34051),f=c.n(e),g=c(85893),h=c(67294),i=c(68730),j=c(95192),k=c(86577),l=c(7838),m=c(88197),n=c(57318),o=c(41664),p=c.n(o),q=c(90286),r=c(49694),s=c(69957),t=c(11163),u=function(a){var b=a.onClick,c=a.title,d=(0,h.useState)(!1),e=d[0],f=d[1];return(0,g.jsx)("div",{className:"connect-button-frame",style:{backgroundColor:e?"#2e98f1":"#ffffff",cursor:void 0!==b?"pointer":"default"},onMouseOver:function(){f(!0)},onMouseOut:function(){f(!1)},onClick:b,children:(0,g.jsxs)("div",{className:"connect-button-inner-frame",children:[(0,g.jsx)(q.qN,{color:e?"#ffffff":"#2e98f1",size:17}),(0,g.jsx)("span",{style:{color:e?"#ffffff":"#2e98f1"},children:c})]})})},v=function(a){var b=a.children,c=a.href;return(0,g.jsx)(p(),{href:c,passHref:!0,children:(0,g.jsx)("a",{target:"_blank",className:"dtitlebar-nav-item",children:(0,g.jsx)("span",{children:b})})})},w=function(){var a=(0,l.O)(),b=a.connected,c=a.disconnect,d=a.presentModal,e=(0,r.iE)(),f=(0,t.useRouter)(),i=(0,h.useMemo)(function(){return(0,s.A)(e,31)},[e]),j=i.name,k=i.logo;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"dtitle-bar",children:[(0,g.jsxs)("div",{className:"dtitle-bar-logo-frame",style:{cursor:"pointer"},onClick:function(){return f.push("/")},children:[k,(0,g.jsx)("div",{className:"dtitle-bar-logo-frame-text",children:(0,g.jsxs)("span",{children:[j,(0,g.jsx)("span",{children:" "}),(0,g.jsx)("span",{style:{fontStyle:"normal",fontWeight:"400",fontSize:"10px",lineHeight:"15px",color:"#9da3ae"},children:(0,g.jsx)("span",{children:"1.2.0"})})]})})]}),(0,g.jsxs)("div",{className:"dtitle-bar-items",children:[(0,g.jsx)(v,{href:"/",children:"Home"}),(0,g.jsx)(v,{href:"/app",children:"App"}),(0,g.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"0px 0px 0px 12px"},children:"connected"!==b?(0,g.jsx)(u,{onClick:d,title:"Connect"}):void 0!==c?(0,g.jsx)(u,{onClick:c,title:"Disconnect"}):(0,g.jsx)("div",{style:{backgroundColor:"#2e98f1",width:8,height:8,borderRadius:4,overflow:"hidden"}})})]})]})})},x=function(){return(0,g.jsx)("div",{style:{margin:"12px 0px 0px 0px",padding:"0px"},children:(0,g.jsx)(w,{})})},y=c(25675),z=c.n(y),A=c(730),B=c(90998),C=c(2766),D=function(a){var b,c,d,e,f=a.poolInfo,h=a.onClickDeposit,i=a.depositButtonEnabled,k=(0,A._)(f.type.xTokenType),l=(0,A._)(f.type.yTokenType),m=f.getPrice()*Math.pow(10,null!==(b=k.demical)&& void 0!==b?b:0)/Math.pow(10,null!==(c=l.demical)&& void 0!==c?c:0);return(0,g.jsxs)("div",{className:"pool-info-frame",children:[(0,g.jsxs)("div",{className:"pool-info-left-frame",children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Pool Token"}),(0,g.jsxs)("div",{className:"pool-info-left-frame-detail-frame",children:[(0,g.jsxs)("div",{className:"pool-info-left-frame-detail-frame-token-pair",children:[(0,g.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",position:"absolute"},children:(0,g.jsx)(z(),{src:null!==(d=k.logoUrl)&& void 0!==d?d:B.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29})}),(0,g.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",margin:"0px 0px 0px 17px"},children:(0,g.jsx)(z(),{src:null!==(e=l.logoUrl)&& void 0!==e?e:B.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29})})]}),(0,g.jsxs)("span",{className:"pool-info-left-frame-detail-frame-token-pair-info",children:[(0,g.jsx)("span",{children:k.symbol}),(0,g.jsx)("span",{style:{fontWeight:400},children:"/"}),(0,g.jsx)("span",{children:l.symbol})]})]})]}),(0,g.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Price"}),(0,g.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,g.jsxs)("span",{children:[(0,g.jsx)("span",{children:(0,C.IZ)(m.toFixed(8))}),(0,g.jsx)("span",{children:" "}),(0,g.jsxs)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:[k.symbol,"/",l.symbol]})]})})]}),(0,g.jsx)(j.Hq,{enabled:i,icon:!0,onClick:function(){void 0!==h&&h(f)}})]})},E=function(a){var b=a.pools,c=a.onClickDeposit,d=a.depositButtonEnabled;return(0,g.jsx)("div",{className:"pool-panel-frame",children:b.map(function(a){return(0,g.jsx)(D,{depositButtonEnabled:d,poolInfo:a,onClickDeposit:c},a.addr)})})},F=function(a){var b=a.pools,c=a.onClickDeposit,d=a.depositButtonEnabled;return(0,g.jsxs)("div",{className:"pool-section-frame",children:[(0,g.jsx)(j.NZ,{children:"Pool"}),(0,g.jsx)(E,{depositButtonEnabled:d,pools:b,onClickDeposit:c})]})},G=function(){var a,b,c,d=(0,r.Yb)(),e=null!==(a=d.twitter)&& void 0!==a?a:"https://twitter.com",f=null!==(b=d.github)&& void 0!==b?b:"https://github.com/vividnetwork",h=null!==(c=d.discord)&& void 0!==c?c:"https://discord.com";return(0,g.jsxs)("div",{className:"bottom-section-frame",children:[(0,g.jsxs)("div",{className:"bottom-section-frame-inner-frame",children:[(0,g.jsxs)("div",{className:"bottom-section-frame-inner-frame-left-frame",children:[(0,g.jsx)(q.TR,{size:60}),(0,g.jsx)("span",{children:"Vivid Network"})]}),(0,g.jsxs)("div",{className:"bottom-section-frame-inner-frame-right-frame",children:[(0,g.jsx)(v,{href:e,children:"Twitter"}),(0,g.jsx)(v,{href:f,children:"Github"}),(0,g.jsx)(v,{href:h,children:"Discord"})]})]}),(0,g.jsx)("div",{style:{width:"1px",height:"80px"}})]})},H=c(828),I=c(6628),J=function(a){var b=a.onClick,c=a.enabledMintButton;return(0,g.jsxs)("div",{className:"position-mint-token-frame",children:[(0,g.jsx)("span",{className:"position-mint-token-frame-title",children:"Mint Some Test Token For Test"}),(0,g.jsx)("button",{disabled:!c,onClick:b,className:"position-mint-token-frame-button",children:(0,g.jsx)("span",{className:"position-mint-token-frame-button-inner-span",children:"Mint It !"})})]})},K=function(a){var b,c,d,e,f=a.positionInfo,h=a.onClickHarvestButton,i=f.poolInfo,k=i.type.xTokenType,l=i.type.yTokenType,m=(0,A._)(k),n=(0,A._)(l),o=f.getShareRatio(),p=(0,H.Z)(f.getShareCoinAmounts(),2),q=p[0],r=p[1],s="";s=o<1e-4?(0,C.IZ)((1e4*o).toFixed(8),8)+"‱":o<.001?(0,C.IZ)((1e3*o).toFixed(8),8)+"‰":(0,C.IZ)(Math.min(100*o,100).toFixed(8),8)+"%";var t=new I.NS(q,null!==(b=m.demical)&& void 0!==b?b:0),u=new I.NS(r,null!==(c=n.demical)&& void 0!==c?c:0),v=null!==(d=m.logoUrl)&& void 0!==d?d:B.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,w=null!==(e=n.logoUrl)&& void 0!==e?e:B.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH;return(0,g.jsxs)("div",{className:"pool-info-frame",children:[(0,g.jsxs)("div",{className:"pool-info-left-frame",children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Pool Token"}),(0,g.jsxs)("div",{className:"pool-info-left-frame-detail-frame",children:[(0,g.jsxs)("div",{className:"pool-info-left-frame-detail-frame-token-pair",children:[(0,g.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",position:"absolute"},children:(0,g.jsx)(z(),{src:v,width:29,height:29})}),(0,g.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",margin:"0px 0px 0px 17px"},children:(0,g.jsx)(z(),{src:w,width:29,height:29})})]}),(0,g.jsxs)("span",{className:"pool-info-left-frame-detail-frame-token-pair-info",children:[(0,g.jsx)("span",{children:m.symbol}),(0,g.jsx)("span",{style:{fontWeight:400},children:"/"}),(0,g.jsx)("span",{children:n.symbol})]})]})]}),(0,g.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",style:{width:"90px"},children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Share"}),(0,g.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,g.jsx)("span",{children:s})})]}),(0,g.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",style:{width:"260px"},children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Value"}),(0,g.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,g.jsxs)("span",{children:[(0,g.jsx)(j.$z,{fontSize:16,value:t}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:" "}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:m.symbol}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:"/"}),(0,g.jsx)(j.$z,{fontSize:16,value:u}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:" "}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:n.symbol})]})})]}),(0,g.jsx)(j.eV,{enabled:!0,onClick:h})]})},L=function(a){var b=a.positionInfos,c=a.onClickPositionInfoHarvestButton,d=a.onClickMintTestToken,e=a.enabledMintButton;return(0,g.jsxs)("div",{className:"position-panel-frame",children:[(null!=b?b:[]).map(function(a){return(0,g.jsx)(K,{positionInfo:a,onClickHarvestButton:function(){void 0!==c&&c(a)}},a.lspCoin.addr)}),(0,g.jsx)(J,{enabledMintButton:e,onClick:d})]})},M=function(a){var b=a.positionInfos,c=a.onClickPositionInfoHarvestButton,d=a.enabledMintButton,e=a.onClickMintTestToken;return(0,g.jsxs)("div",{className:"position-section-frame",children:[(0,g.jsx)(j.NZ,{children:"Position"}),(0,g.jsx)(L,{positionInfos:b,onClickPositionInfoHarvestButton:c,enabledMintButton:d,onClickMintTestToken:e})]})},N=c(86875),O=c(28713),P=c(56116),Q=function(a){var b,c,d=a.coin,e=a.coinUi,f=new I.NS(d.balance,null!==(b=e.demical)&& void 0!==b?b:0);return(0,g.jsxs)("div",{className:"balance-info-frame",children:[(0,g.jsxs)("div",{className:"balance-info-token-name-frame",children:[(0,g.jsx)("span",{className:"balance-info-title-span",children:"Token"}),(0,g.jsxs)("div",{className:"balance-info-token-info-frame",children:[(0,g.jsx)(z(),{src:null!==(c=e.logoUrl)&& void 0!==c?c:"/images/token/unknown-token.svg",width:29,height:29}),(0,g.jsxs)("span",{children:[(0,g.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"20px",lineHeight:"30px",color:"#000000"},children:e.symbol}),(0,g.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:void 0!==e.name?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{children:"("}),e.name,(0,g.jsx)("span",{children:")"})]}):(0,g.jsx)(g.Fragment,{})})]})]})]}),(0,g.jsxs)("div",{className:"balance-info-balance-amount-frame",children:[(0,g.jsx)("span",{className:"balance-info-title-span",children:"Balance"}),(0,g.jsxs)("span",{style:{},children:[(0,g.jsxs)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"16px",lineHeight:"24px",color:"#000000"},children:[(0,g.jsx)(j.$z,{fontSize:16,hintFontSize:8,value:f,width:13}),(0,g.jsx)("span",{children:" "})]}),(0,g.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:e.symbol})]})]})]})},R=function(a){var b=a.info;return(0,g.jsxs)("div",{className:"balance-section-frame",children:[(0,g.jsx)(j.NZ,{children:"Balance"}),b.map(function(a){var b=(0,H.Z)(a,2),c=b[0],d=b[1];return(0,g.jsx)(Q,{coin:c,coinUi:d},"".concat(c.addr,"-").concat(c.type.name))})]})},S=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.UJ,{}),(0,g.jsx)(m.t,{children:(0,g.jsx)(l.z,{children:(0,g.jsx)(i.R,{children:(0,g.jsxs)(O.S,{children:[(0,g.jsx)(T,{}),(0,g.jsx)(N.tP,{})]})})})})]})},T=function(){var a=(0,i.s)(),b=a.client,c=a.coins,e=a.pools,o=a.refresh,p=(0,l.O)(),q=p.wallet,r=p.connected,s=(0,O.K)(),t=s.accountAddr,u=s.positionInfos,v=s.refreshPositionInfos,w=s.accountCoins,y=s.refreshAccountCoins,z=(0,h.useMemo)(function(){return new Set(c.map(function(a){return a.name}))},[c]),B=null!==q&&"connected"===r&&null!==t,C=(0,h.useCallback)(function(a){if(null===q|| !1===B||null===b){(0,N._N)("Cannot correctly sign the operation, wallet is either not connected or we could not operate the sign operation");return}var c,e=(c=(0,d.Z)(f().mark(function c(){var d;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,q.removeLiqudity({client:b,positionInfo:a});case 3:return d=c.sent,v(),o(),c.abrupt("return",d);case 9:throw c.prev=9,c.t0=c.catch(0),c.t0;case 12:case"end":return c.stop()}},c,null,[[0,9]])})),function(){return c.apply(this,arguments)});(0,N.pn)(b,"Harvest Position",e())},[q,B,N.pn,N._N,v,o]),D=(0,h.useState)(null),E=D[0],H=D[1],I=(0,h.useState)(!1),J=I[0],K=I[1],L=(0,h.useCallback)(function(a){H(a),K(!0)},[]),Q=(0,h.useCallback)(function(){if(!B||null===b){(0,N._N)("Wallet is not connected or encoutering error when signing");return}var a,c,e=q.getMintTestCoinType(),g=null!==(a=(0,A._)(e).demical)&& void 0!==a?a:0,h=(c=(0,d.Z)(f().mark(function a(){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,q.mintTestCoin({client:b,amount:BigInt(1e3)*(0,P.$)(BigInt(10),g)});case 2:return c=a.sent,y(),a.abrupt("return",c);case 5:case"end":return a.stop()}},a)})),function(){return c.apply(this,arguments)});(0,N.pn)(b,"Mint Test Token",h())},[B,b,q,N.pn,y]),S=(0,h.useMemo)(function(){return Array.from(null!=w?w:[]).filter(function(a){return z.has(a.type.name)}).sort(function(a,b){return a.type.name<b.type.name?-1:a.type.name>b.type.name?1:0}).map(function(a){return[a,(0,A._)(a.type)]})},[w,z,A._]);return(0,g.jsxs)("div",{children:[(0,g.jsxs)(j.Ku,{width:1290,children:[(0,g.jsx)(x,{}),(0,g.jsx)(k.Jh,{}),S.length>0?(0,g.jsx)(R,{info:S}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)(M,{positionInfos:u,onClickPositionInfoHarvestButton:C,onClickMintTestToken:Q,enabledMintButton:B}),(0,g.jsx)(F,{pools:e,onClickDeposit:L,depositButtonEnabled:B}),(0,g.jsx)(j.nv,{}),(0,g.jsx)(G,{})]}),(0,g.jsx)(m.u,{presented:J,setPresented:K,children:(0,g.jsx)(n.TJ,{poolInfo:E,wallet:q,client:b,accountAddr:t,dismissModal:function(){K(!1)}})})]})},U=S},11163:function(a,b,c){a.exports=c(90387)}},function(a){a.O(0,[675,276,192,212,774,888,179],function(){var b;return a(a.s=89301)}),_N_E=a.O()}])