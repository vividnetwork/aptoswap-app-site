(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{9301:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return c(6860)}])},6860:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return U}});var d=c(7568),e=c(9815),f=c(4051),g=c.n(f),h=c(5893),i=c(7294),j=c(544),k=c(5192),l=c(6577),m=c(7838),n=c(8197),o=c(7318),p=c(1664),q=c.n(p),r=c(286),s=c(9694),t=c(9957),u=c(1163),v=function(a){var b=a.onClick,c=a.title,d=(0,i.useState)(!1),e=d[0],f=d[1];return(0,h.jsx)("div",{className:"connect-button-frame",style:{backgroundColor:e?"#2e98f1":"#ffffff",cursor:void 0!==b?"pointer":"default"},onMouseOver:function(){f(!0)},onMouseOut:function(){f(!1)},onClick:b,children:(0,h.jsxs)("div",{className:"connect-button-inner-frame",children:[(0,h.jsx)(r.qN,{color:e?"#ffffff":"#2e98f1",size:17}),(0,h.jsx)("span",{style:{color:e?"#ffffff":"#2e98f1"},children:c})]})})},w=function(a){var b=a.children,c=a.href;return(0,h.jsx)(q(),{href:c,passHref:!0,children:(0,h.jsx)("a",{target:"_blank",className:"dtitlebar-nav-item",children:(0,h.jsx)("span",{children:b})})})},x=function(){var a=(0,m.O)(),b=a.connected,c=a.disconnect,d=a.presentModal,e=(0,s.iE)(),f=(0,u.useRouter)(),g=(0,i.useMemo)(function(){return(0,t.A)(e,31)},[e]),j=g.name,k=g.logo;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"dtitle-bar",children:[(0,h.jsxs)("div",{className:"dtitle-bar-logo-frame",style:{cursor:"pointer"},onClick:function(){return f.push("/")},children:[k,(0,h.jsx)("div",{className:"dtitle-bar-logo-frame-text",children:(0,h.jsxs)("span",{children:[j,(0,h.jsx)("span",{children:" "}),(0,h.jsx)("span",{style:{fontStyle:"normal",fontWeight:"400",fontSize:"10px",lineHeight:"15px",color:"#9da3ae"},children:(0,h.jsx)("span",{children:"1.4."})})]})})]}),(0,h.jsxs)("div",{className:"dtitle-bar-items",children:[(0,h.jsx)(w,{href:"/",children:"Home"}),(0,h.jsx)(w,{href:"/app",children:"App"}),(0,h.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"0px 0px 0px 12px"},children:"connected"!==b?(0,h.jsx)(v,{onClick:d,title:"Connect"}):void 0!==c?(0,h.jsx)(v,{onClick:c,title:"Disconnect"}):(0,h.jsx)("div",{style:{backgroundColor:"#2e98f1",width:8,height:8,borderRadius:4,overflow:"hidden"}})})]})]})})},y=function(){return(0,h.jsx)("div",{style:{margin:"12px 0px 0px 0px",padding:"0px"},children:(0,h.jsx)(x,{})})},z=c(5675),A=c.n(z),B=c(998),C=c(2766),D=function(a){var b,c,d,e,f=a.poolInfo,g=a.getCoinUi,i=a.onClickDeposit,j=a.depositButtonEnabled,l=g(f.type.xTokenType),m=g(f.type.yTokenType),n=f.getPrice()*Math.pow(10,null!==(b=l.demical)&& void 0!==b?b:0)/Math.pow(10,null!==(c=m.demical)&& void 0!==c?c:0);return(0,h.jsxs)("div",{className:"pool-info-frame",children:[(0,h.jsxs)("div",{className:"pool-info-left-frame",children:[(0,h.jsx)("span",{className:"pool-info-left-frame-title",children:"Pool Token"}),(0,h.jsxs)("div",{className:"pool-info-left-frame-detail-frame",children:[(0,h.jsxs)("div",{className:"pool-info-left-frame-detail-frame-token-pair",children:[(0,h.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",position:"absolute"},children:(0,h.jsx)(A(),{src:null!==(d=l.logoUrl)&& void 0!==d?d:B.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29})}),(0,h.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",margin:"0px 0px 0px 17px"},children:(0,h.jsx)(A(),{src:null!==(e=m.logoUrl)&& void 0!==e?e:B.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29})})]}),(0,h.jsxs)("span",{className:"pool-info-left-frame-detail-frame-token-pair-info",children:[(0,h.jsx)("span",{children:l.symbol}),(0,h.jsx)("span",{style:{fontWeight:400},children:"/"}),(0,h.jsx)("span",{children:m.symbol})]})]})]}),(0,h.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",children:[(0,h.jsx)("span",{className:"pool-info-left-frame-title",children:"Price"}),(0,h.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,h.jsxs)("span",{children:[(0,h.jsx)("span",{children:(0,C.IZ)(n.toFixed(8))}),(0,h.jsx)("span",{children:" "}),(0,h.jsxs)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:[l.symbol,"/",m.symbol]})]})})]}),(0,h.jsx)(k.Hq,{enabled:j,icon:!0,onClick:function(){void 0!==i&&i(f)}})]})},E=function(a){var b=a.pools,c=a.getCoinUi,d=a.onClickDeposit,e=a.depositButtonEnabled;return(0,h.jsx)("div",{className:"pool-panel-frame",children:b.map(function(a){return(0,h.jsx)(D,{depositButtonEnabled:e,poolInfo:a,getCoinUi:c,onClickDeposit:d},"".concat(a.addr,"-").concat(a.type.xTokenType.name,"-").concat(a.type.yTokenType.name))})})},F=function(a){var b=a.pools,c=a.getCoinUi,d=a.onClickDeposit,e=a.depositButtonEnabled;return(0,h.jsxs)("div",{className:"pool-section-frame",children:[(0,h.jsx)(k.NZ,{children:"Pool"}),(0,h.jsx)(E,{getCoinUi:c,depositButtonEnabled:e,pools:b,onClickDeposit:d})]})},G=function(){var a,b,c,d=(0,s.Yb)(),e=null!==(a=d.twitter)&& void 0!==a?a:"https://twitter.com",f=null!==(b=d.github)&& void 0!==b?b:"https://github.com/vividnetwork",g=null!==(c=d.discord)&& void 0!==c?c:"https://discord.com";return(0,h.jsxs)("div",{className:"bottom-section-frame",children:[(0,h.jsxs)("div",{className:"bottom-section-frame-inner-frame",children:[(0,h.jsxs)("div",{className:"bottom-section-frame-inner-frame-left-frame",children:[(0,h.jsx)(r.TR,{size:60}),(0,h.jsx)("span",{children:"Vivid Network"})]}),(0,h.jsxs)("div",{className:"bottom-section-frame-inner-frame-right-frame",children:[(0,h.jsx)(w,{href:e,children:"Twitter"}),(0,h.jsx)(w,{href:f,children:"Github"}),(0,h.jsx)(w,{href:g,children:"Discord"})]})]}),(0,h.jsx)("div",{style:{width:"1px",height:"80px"}})]})},H=c(828),I=c(6628),J=c(6875),K=function(a){var b=a.onClick,c=a.wallet,d=a.client,e=a.enabledMintButton,f=(0,s.$1)(),g=[];return void 0!==f&& void 0!==f["app-position-section-extra-buttons"]&&(g=f["app-position-section-extra-buttons"].map(function(a){var b=a.title,f=a.action;return(0,h.jsx)("button",{disabled:!e,onClick:function(){null!==c&&null!==d&& void 0!==c.executeRawTransaction&&(0,J.pn)(d,b[0]+" "+b[1],c.executeRawTransaction(d,f))},className:"position-mint-token-frame-button",children:(0,h.jsxs)("span",{className:"position-mint-token-frame-button-inner-span",children:[b[0]," ",(0,h.jsxs)("span",{style:{fontWeight:700},children:[b[1],"!"]})]})},b[0]+b[1])})),(0,h.jsxs)("div",{className:"position-mint-token-frame",children:[(0,h.jsx)("span",{className:"position-mint-token-frame-title",children:"Mint Some Test Token For Test"}),(0,h.jsxs)("div",{className:"position-button-group-frame",children:[(0,h.jsx)("button",{disabled:!e,onClick:b,className:"position-mint-token-frame-button",children:(0,h.jsxs)("span",{className:"position-mint-token-frame-button-inner-span",children:["Mint ",(0,h.jsx)("span",{style:{fontWeight:700},children:"tAPTS!"})]})},"uniq-mint-tAPTS"),g]})]})},L=function(a){var b,c,d,e,f=a.positionInfo,g=a.getCoinUi,i=a.onClickHarvestButton,j=f.poolInfo,l=j.type.xTokenType,m=j.type.yTokenType,n=g(l),o=g(m),p=f.getShareRatio(),q=(0,H.Z)(f.getShareCoinAmounts(),2),r=q[0],s=q[1],t="";t=p<1e-4?(0,C.IZ)((1e4*p).toFixed(8),8)+"‱":p<.001?(0,C.IZ)((1e3*p).toFixed(8),8)+"‰":(0,C.IZ)(Math.min(100*p,100).toFixed(8),8)+"%";var u=new I.NS(r,null!==(b=n.demical)&& void 0!==b?b:0),v=new I.NS(s,null!==(c=o.demical)&& void 0!==c?c:0),w=null!==(d=n.logoUrl)&& void 0!==d?d:B.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,x=null!==(e=o.logoUrl)&& void 0!==e?e:B.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH;return(0,h.jsxs)("div",{className:"pool-info-frame",children:[(0,h.jsxs)("div",{className:"pool-info-left-frame",children:[(0,h.jsx)("span",{className:"pool-info-left-frame-title",children:"Pool Token"}),(0,h.jsxs)("div",{className:"pool-info-left-frame-detail-frame",children:[(0,h.jsxs)("div",{className:"pool-info-left-frame-detail-frame-token-pair",children:[(0,h.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",position:"absolute"},children:(0,h.jsx)(A(),{src:w,width:29,height:29})}),(0,h.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",margin:"0px 0px 0px 17px"},children:(0,h.jsx)(A(),{src:x,width:29,height:29})})]}),(0,h.jsxs)("span",{className:"pool-info-left-frame-detail-frame-token-pair-info",children:[(0,h.jsx)("span",{children:n.symbol}),(0,h.jsx)("span",{style:{fontWeight:400},children:"/"}),(0,h.jsx)("span",{children:o.symbol})]})]})]}),(0,h.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",style:{width:"90px"},children:[(0,h.jsx)("span",{className:"pool-info-left-frame-title",children:"Share"}),(0,h.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,h.jsx)("span",{children:t})})]}),(0,h.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",style:{width:"260px"},children:[(0,h.jsx)("span",{className:"pool-info-left-frame-title",children:"Value"}),(0,h.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,h.jsxs)("span",{children:[(0,h.jsx)(k.$z,{fontSize:16,value:u}),(0,h.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:" "}),(0,h.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:n.symbol}),(0,h.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:"/"}),(0,h.jsx)(k.$z,{fontSize:16,value:v}),(0,h.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:" "}),(0,h.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:o.symbol})]})})]}),(0,h.jsx)(k.eV,{enabled:!0,onClick:i})]})},M=function(a){var b=a.wallet,c=a.client,d=a.positionInfos,e=a.getCoinUi,f=a.onClickPositionInfoHarvestButton,g=a.onClickMintTestToken,i=a.enabledMintButton;return(0,h.jsxs)("div",{className:"position-panel-frame",children:[(null!=d?d:[]).map(function(a){return(0,h.jsx)(L,{positionInfo:a,getCoinUi:e,onClickHarvestButton:function(){void 0!==f&&f(a)}},a.lspCoin.addr)}),(0,h.jsx)(K,{wallet:b,client:c,enabledMintButton:i,onClick:g})]})},N=function(a){var b=a.wallet,c=a.client,d=a.positionInfos,e=a.getCoinUi,f=a.onClickPositionInfoHarvestButton,g=a.enabledMintButton,i=a.onClickMintTestToken;return(0,h.jsxs)("div",{className:"position-section-frame",children:[(0,h.jsx)(k.NZ,{children:"Position"}),(0,h.jsx)(M,{wallet:b,client:c,positionInfos:d,getCoinUi:e,onClickPositionInfoHarvestButton:f,enabledMintButton:g,onClickMintTestToken:i})]})},O=c(6664),P=c(6116),Q=function(a){var b,c,d=a.coin,e=a.coinUi,f=new I.NS(d.balance,null!==(b=e.demical)&& void 0!==b?b:0);return(0,h.jsxs)("div",{className:"balance-info-frame",children:[(0,h.jsxs)("div",{className:"balance-info-token-name-frame",children:[(0,h.jsx)("span",{className:"balance-info-title-span",children:"Token"}),(0,h.jsxs)("div",{className:"balance-info-token-info-frame",children:[(0,h.jsx)(A(),{src:null!==(c=e.logoUrl)&& void 0!==c?c:"/images/token/unknown-token.svg",width:29,height:29}),(0,h.jsxs)("span",{children:[(0,h.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"20px",lineHeight:"30px",color:"#000000"},children:e.symbol}),(0,h.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:void 0!==e.name?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{children:"("}),e.name,(0,h.jsx)("span",{children:")"})]}):(0,h.jsx)(h.Fragment,{})})]})]})]}),(0,h.jsxs)("div",{className:"balance-info-balance-amount-frame",children:[(0,h.jsx)("span",{className:"balance-info-title-span",children:"Balance"}),(0,h.jsxs)("span",{style:{},children:[(0,h.jsxs)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"16px",lineHeight:"24px",color:"#000000"},children:[(0,h.jsx)(k.$z,{fontSize:16,hintFontSize:8,value:f,width:13}),(0,h.jsx)("span",{children:" "})]}),(0,h.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:e.symbol})]})]})]})},R=function(a){var b=a.info;return(0,h.jsxs)("div",{className:"balance-section-frame",children:[(0,h.jsx)(k.NZ,{children:"Balance"}),b.map(function(a){var b=(0,H.Z)(a,2),c=b[0],d=b[1];return(0,h.jsx)(Q,{coin:c,coinUi:d},"".concat(c.addr,"-").concat(c.type.name))})]})},S=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(k.UJ,{}),(0,h.jsx)(n.t,{children:(0,h.jsx)(m.z,{children:(0,h.jsx)(j.R,{children:(0,h.jsxs)(O.S,{children:[(0,h.jsx)(T,{}),(0,h.jsx)(J.tP,{})]})})})})]})},T=function(){var a=(0,j.s)(),b=a.client,c=a.coins,f=a.getCoinUi,p=a.pools,q=a.refresh,r=(0,i.useMemo)(function(){var a=(0,e.Z)(p);return a.sort(function(a,b){var c;return(a.isAvaliableForSwap()?0:1)-(b.isAvaliableForSwap()?0:1)}),a},[p]),s=(0,m.O)(),t=s.wallet,u=s.connected,v=(0,O.K)(),w=v.accountAddr,x=v.positionInfos,z=v.refreshPositionInfos,A=v.accountCoins,B=v.refreshAccountCoins,C=(0,i.useMemo)(function(){return new Set(c.map(function(a){return a.name}))},[c]),D=null!==t&&"connected"===u&&null!==w,E=(0,i.useCallback)(function(a){if(null===t|| !1===D||null===b){(0,J._N)("Cannot correctly sign the operation, wallet is either not connected or we could not operate the sign operation");return}var c,e=(c=(0,d.Z)(g().mark(function c(){var d;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,t.removeLiqudity({client:b,positionInfo:a});case 3:return d=c.sent,z(),q(),c.abrupt("return",d);case 9:throw c.prev=9,c.t0=c.catch(0),c.t0;case 12:case"end":return c.stop()}},c,null,[[0,9]])})),function(){return c.apply(this,arguments)});(0,J.pn)(b,"Harvest Position",e())},[t,D,J.pn,J._N,z,q]),H=(0,i.useState)(null),I=H[0],K=H[1],L=(0,i.useState)(!1),M=L[0],Q=L[1],S=(0,i.useCallback)(function(a){K(a),Q(!0)},[]),T=(0,i.useCallback)(function(){if(!D||null===b){(0,J._N)("Wallet is not connected or encoutering error when signing");return}var a,c,e=null!==(a=f(t.getMintTestCoinType()).demical)&& void 0!==a?a:0,h=(c=(0,d.Z)(g().mark(function a(){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.mintTestCoin({client:b,amount:BigInt(1e3)*(0,P.$)(BigInt(10),e)});case 2:return c=a.sent,B(),a.abrupt("return",c);case 5:case"end":return a.stop()}},a)})),function(){return c.apply(this,arguments)});(0,J.pn)(b,"Mint Test Token",h())},[D,b,t,J.pn,B,f]),U=(0,i.useMemo)(function(){return Array.from(null!=A?A:[]).filter(function(a){return C.has(a.type.name)}).sort(function(a,b){return a.type.name<b.type.name?-1:a.type.name>b.type.name?1:0}).map(function(a){return[a,f(a.type)]})},[A,C,f]);return(0,h.jsxs)("div",{children:[(0,h.jsxs)(k.Ku,{width:1290,children:[(0,h.jsx)(y,{}),(0,h.jsx)(l.Jh,{}),U.length>0?(0,h.jsx)(R,{info:U}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)(N,{wallet:t,client:b,positionInfos:x,getCoinUi:f,onClickPositionInfoHarvestButton:E,onClickMintTestToken:T,enabledMintButton:D}),(0,h.jsx)(F,{pools:r,getCoinUi:f,onClickDeposit:S,depositButtonEnabled:D}),(0,h.jsx)(k.nv,{}),(0,h.jsx)(G,{})]}),(0,h.jsx)(n.u,{presented:M,setPresented:Q,children:(0,h.jsx)(o.TJ,{poolInfo:I,getCoinUi:f,wallet:t,client:b,accountAddr:w,dismissModal:function(){Q(!1)}})})]})},U=S},1163:function(a,b,c){a.exports=c(387)}},function(a){a.O(0,[675,276,192,212,774,888,179],function(){var b;return a(a.s=9301)}),_N_E=a.O()}])