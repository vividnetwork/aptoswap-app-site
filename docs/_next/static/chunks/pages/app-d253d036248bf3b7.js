(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{9301:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return c(6860)}])},6860:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return T}});var d=c(7568),e=c(4051),f=c.n(e),g=c(5893),h=c(7294),i=c(544),j=c(5192),k=c(6577),l=c(7838),m=c(8197),n=c(7318),o=c(1664),p=c.n(o),q=c(286),r=c(9694),s=c(9957),t=c(1163),u=function(a){var b=a.onClick,c=a.title,d=(0,h.useState)(!1),e=d[0],f=d[1];return(0,g.jsx)("div",{className:"connect-button-frame",style:{backgroundColor:e?"#2e98f1":"#ffffff",cursor:void 0!==b?"pointer":"default"},onMouseOver:function(){f(!0)},onMouseOut:function(){f(!1)},onClick:b,children:(0,g.jsxs)("div",{className:"connect-button-inner-frame",children:[(0,g.jsx)(q.qN,{color:e?"#ffffff":"#2e98f1",size:17}),(0,g.jsx)("span",{style:{color:e?"#ffffff":"#2e98f1"},children:c})]})})},v=function(a){var b=a.children,c=a.href;return(0,g.jsx)(p(),{href:c,passHref:!0,children:(0,g.jsx)("a",{target:"_blank",className:"dtitlebar-nav-item",children:(0,g.jsx)("span",{children:b})})})},w=function(){var a=(0,l.O)(),b=a.connected,c=a.disconnect,d=a.presentModal,e=(0,r.iE)(),f=(0,t.useRouter)(),i=(0,h.useMemo)(function(){return(0,s.A)(e,31)},[e]),j=i.name,k=i.logo;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"dtitle-bar",children:[(0,g.jsxs)("div",{className:"dtitle-bar-logo-frame",style:{cursor:"pointer"},onClick:function(){return f.push("/")},children:[k,(0,g.jsx)("div",{className:"dtitle-bar-logo-frame-text",children:(0,g.jsxs)("span",{children:[j,(0,g.jsx)("span",{children:" "}),(0,g.jsx)("span",{style:{fontStyle:"normal",fontWeight:"400",fontSize:"10px",lineHeight:"15px",color:"#9da3ae"},children:(0,g.jsx)("span",{children:"1.3.0"})})]})})]}),(0,g.jsxs)("div",{className:"dtitle-bar-items",children:[(0,g.jsx)(v,{href:"/",children:"Home"}),(0,g.jsx)(v,{href:"/app",children:"App"}),(0,g.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"0px 0px 0px 12px"},children:"connected"!==b?(0,g.jsx)(u,{onClick:d,title:"Connect"}):void 0!==c?(0,g.jsx)(u,{onClick:c,title:"Disconnect"}):(0,g.jsx)("div",{style:{backgroundColor:"#2e98f1",width:8,height:8,borderRadius:4,overflow:"hidden"}})})]})]})})},x=function(){return(0,g.jsx)("div",{style:{margin:"12px 0px 0px 0px",padding:"0px"},children:(0,g.jsx)(w,{})})},y=c(5675),z=c.n(y),A=c(998),B=c(2766),C=function(a){var b,c,d,e,f=a.poolInfo,h=a.getCoinUi,i=a.onClickDeposit,k=a.depositButtonEnabled,l=h(f.type.xTokenType),m=h(f.type.yTokenType),n=f.getPrice()*Math.pow(10,null!==(b=l.demical)&& void 0!==b?b:0)/Math.pow(10,null!==(c=m.demical)&& void 0!==c?c:0);return(0,g.jsxs)("div",{className:"pool-info-frame",children:[(0,g.jsxs)("div",{className:"pool-info-left-frame",children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Pool Token"}),(0,g.jsxs)("div",{className:"pool-info-left-frame-detail-frame",children:[(0,g.jsxs)("div",{className:"pool-info-left-frame-detail-frame-token-pair",children:[(0,g.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",position:"absolute"},children:(0,g.jsx)(z(),{src:null!==(d=l.logoUrl)&& void 0!==d?d:A.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29})}),(0,g.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",margin:"0px 0px 0px 17px"},children:(0,g.jsx)(z(),{src:null!==(e=m.logoUrl)&& void 0!==e?e:A.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29})})]}),(0,g.jsxs)("span",{className:"pool-info-left-frame-detail-frame-token-pair-info",children:[(0,g.jsx)("span",{children:l.symbol}),(0,g.jsx)("span",{style:{fontWeight:400},children:"/"}),(0,g.jsx)("span",{children:m.symbol})]})]})]}),(0,g.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Price"}),(0,g.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,g.jsxs)("span",{children:[(0,g.jsx)("span",{children:(0,B.IZ)(n.toFixed(8))}),(0,g.jsx)("span",{children:" "}),(0,g.jsxs)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:[l.symbol,"/",m.symbol]})]})})]}),(0,g.jsx)(j.Hq,{enabled:k,icon:!0,onClick:function(){void 0!==i&&i(f)}})]})},D=function(a){var b=a.pools,c=a.getCoinUi,d=a.onClickDeposit,e=a.depositButtonEnabled;return(0,g.jsx)("div",{className:"pool-panel-frame",children:b.map(function(a){return(0,g.jsx)(C,{depositButtonEnabled:e,poolInfo:a,getCoinUi:c,onClickDeposit:d},a.addr)})})},E=function(a){var b=a.pools,c=a.getCoinUi,d=a.onClickDeposit,e=a.depositButtonEnabled;return(0,g.jsxs)("div",{className:"pool-section-frame",children:[(0,g.jsx)(j.NZ,{children:"Pool"}),(0,g.jsx)(D,{getCoinUi:c,depositButtonEnabled:e,pools:b,onClickDeposit:d})]})},F=function(){var a,b,c,d=(0,r.Yb)(),e=null!==(a=d.twitter)&& void 0!==a?a:"https://twitter.com",f=null!==(b=d.github)&& void 0!==b?b:"https://github.com/vividnetwork",h=null!==(c=d.discord)&& void 0!==c?c:"https://discord.com";return(0,g.jsxs)("div",{className:"bottom-section-frame",children:[(0,g.jsxs)("div",{className:"bottom-section-frame-inner-frame",children:[(0,g.jsxs)("div",{className:"bottom-section-frame-inner-frame-left-frame",children:[(0,g.jsx)(q.TR,{size:60}),(0,g.jsx)("span",{children:"Vivid Network"})]}),(0,g.jsxs)("div",{className:"bottom-section-frame-inner-frame-right-frame",children:[(0,g.jsx)(v,{href:e,children:"Twitter"}),(0,g.jsx)(v,{href:f,children:"Github"}),(0,g.jsx)(v,{href:h,children:"Discord"})]})]}),(0,g.jsx)("div",{style:{width:"1px",height:"80px"}})]})},G=c(828),H=c(6628),I=c(6875),J=function(a){var b=a.onClick,c=a.wallet,d=a.client,e=a.enabledMintButton,f=(0,r.$1)(),h=[];return void 0!==f&& void 0!==f["app-position-section-extra-buttons"]&&(h=f["app-position-section-extra-buttons"].map(function(a){var b=a.title,f=a.action;return(0,g.jsx)("button",{disabled:!e,onClick:function(){null!==c&&null!==d&& void 0!==c.executeRawTransaction&&(0,I.pn)(d,b[0]+" "+b[1],c.executeRawTransaction(d,f))},className:"position-mint-token-frame-button",children:(0,g.jsxs)("span",{className:"position-mint-token-frame-button-inner-span",children:[b[0]," ",(0,g.jsxs)("span",{style:{fontWeight:700},children:[b[1],"!"]})]})},b[0]+b[1])})),(0,g.jsxs)("div",{className:"position-mint-token-frame",children:[(0,g.jsx)("span",{className:"position-mint-token-frame-title",children:"Mint Some Test Token For Test"}),(0,g.jsxs)("div",{className:"position-button-group-frame",children:[(0,g.jsx)("button",{disabled:!e,onClick:b,className:"position-mint-token-frame-button",children:(0,g.jsxs)("span",{className:"position-mint-token-frame-button-inner-span",children:["Mint ",(0,g.jsx)("span",{style:{fontWeight:700},children:"tAPTS!"})]})},"uniq-mint-tAPTS"),h]})]})},K=function(a){var b,c,d,e,f=a.positionInfo,h=a.getCoinUi,i=a.onClickHarvestButton,k=f.poolInfo,l=k.type.xTokenType,m=k.type.yTokenType,n=h(l),o=h(m),p=f.getShareRatio(),q=(0,G.Z)(f.getShareCoinAmounts(),2),r=q[0],s=q[1],t="";t=p<1e-4?(0,B.IZ)((1e4*p).toFixed(8),8)+"‱":p<.001?(0,B.IZ)((1e3*p).toFixed(8),8)+"‰":(0,B.IZ)(Math.min(100*p,100).toFixed(8),8)+"%";var u=new H.NS(r,null!==(b=n.demical)&& void 0!==b?b:0),v=new H.NS(s,null!==(c=o.demical)&& void 0!==c?c:0),w=null!==(d=n.logoUrl)&& void 0!==d?d:A.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,x=null!==(e=o.logoUrl)&& void 0!==e?e:A.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH;return(0,g.jsxs)("div",{className:"pool-info-frame",children:[(0,g.jsxs)("div",{className:"pool-info-left-frame",children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Pool Token"}),(0,g.jsxs)("div",{className:"pool-info-left-frame-detail-frame",children:[(0,g.jsxs)("div",{className:"pool-info-left-frame-detail-frame-token-pair",children:[(0,g.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",position:"absolute"},children:(0,g.jsx)(z(),{src:w,width:29,height:29})}),(0,g.jsx)("div",{style:{borderRadius:"17px",overflow:"hidden",margin:"0px 0px 0px 17px"},children:(0,g.jsx)(z(),{src:x,width:29,height:29})})]}),(0,g.jsxs)("span",{className:"pool-info-left-frame-detail-frame-token-pair-info",children:[(0,g.jsx)("span",{children:n.symbol}),(0,g.jsx)("span",{style:{fontWeight:400},children:"/"}),(0,g.jsx)("span",{children:o.symbol})]})]})]}),(0,g.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",style:{width:"90px"},children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Share"}),(0,g.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,g.jsx)("span",{children:t})})]}),(0,g.jsxs)("div",{className:"pool-info-middle-frame-detail-frame",style:{width:"260px"},children:[(0,g.jsx)("span",{className:"pool-info-left-frame-title",children:"Value"}),(0,g.jsx)("div",{className:"pool-info-middle-frame-detail-frame-price-info",children:(0,g.jsxs)("span",{children:[(0,g.jsx)(j.$z,{fontSize:16,value:u}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:" "}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:n.symbol}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:"/"}),(0,g.jsx)(j.$z,{fontSize:16,value:v}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:" "}),(0,g.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:o.symbol})]})})]}),(0,g.jsx)(j.eV,{enabled:!0,onClick:i})]})},L=function(a){var b=a.wallet,c=a.client,d=a.positionInfos,e=a.getCoinUi,f=a.onClickPositionInfoHarvestButton,h=a.onClickMintTestToken,i=a.enabledMintButton;return(0,g.jsxs)("div",{className:"position-panel-frame",children:[(null!=d?d:[]).map(function(a){return(0,g.jsx)(K,{positionInfo:a,getCoinUi:e,onClickHarvestButton:function(){void 0!==f&&f(a)}},a.lspCoin.addr)}),(0,g.jsx)(J,{wallet:b,client:c,enabledMintButton:i,onClick:h})]})},M=function(a){var b=a.wallet,c=a.client,d=a.positionInfos,e=a.getCoinUi,f=a.onClickPositionInfoHarvestButton,h=a.enabledMintButton,i=a.onClickMintTestToken;return(0,g.jsxs)("div",{className:"position-section-frame",children:[(0,g.jsx)(j.NZ,{children:"Position"}),(0,g.jsx)(L,{wallet:b,client:c,positionInfos:d,getCoinUi:e,onClickPositionInfoHarvestButton:f,enabledMintButton:h,onClickMintTestToken:i})]})},N=c(6664),O=c(6116),P=function(a){var b,c,d=a.coin,e=a.coinUi,f=new H.NS(d.balance,null!==(b=e.demical)&& void 0!==b?b:0);return(0,g.jsxs)("div",{className:"balance-info-frame",children:[(0,g.jsxs)("div",{className:"balance-info-token-name-frame",children:[(0,g.jsx)("span",{className:"balance-info-title-span",children:"Token"}),(0,g.jsxs)("div",{className:"balance-info-token-info-frame",children:[(0,g.jsx)(z(),{src:null!==(c=e.logoUrl)&& void 0!==c?c:"/images/token/unknown-token.svg",width:29,height:29}),(0,g.jsxs)("span",{children:[(0,g.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"20px",lineHeight:"30px",color:"#000000"},children:e.symbol}),(0,g.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:void 0!==e.name?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{children:"("}),e.name,(0,g.jsx)("span",{children:")"})]}):(0,g.jsx)(g.Fragment,{})})]})]})]}),(0,g.jsxs)("div",{className:"balance-info-balance-amount-frame",children:[(0,g.jsx)("span",{className:"balance-info-title-span",children:"Balance"}),(0,g.jsxs)("span",{style:{},children:[(0,g.jsxs)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"16px",lineHeight:"24px",color:"#000000"},children:[(0,g.jsx)(j.$z,{fontSize:16,hintFontSize:8,value:f,width:13}),(0,g.jsx)("span",{children:" "})]}),(0,g.jsx)("span",{style:{fontStyle:"normal",fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:e.symbol})]})]})]})},Q=function(a){var b=a.info;return(0,g.jsxs)("div",{className:"balance-section-frame",children:[(0,g.jsx)(j.NZ,{children:"Balance"}),b.map(function(a){var b=(0,G.Z)(a,2),c=b[0],d=b[1];return(0,g.jsx)(P,{coin:c,coinUi:d},"".concat(c.addr,"-").concat(c.type.name))})]})},R=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j.UJ,{}),(0,g.jsx)(m.t,{children:(0,g.jsx)(l.z,{children:(0,g.jsx)(i.R,{children:(0,g.jsxs)(N.S,{children:[(0,g.jsx)(S,{}),(0,g.jsx)(I.tP,{})]})})})})]})},S=function(){var a=(0,i.s)(),b=a.client,c=a.coins,e=a.getCoinUi,o=a.pools,p=a.refresh,q=(0,l.O)(),r=q.wallet,s=q.connected,t=(0,N.K)(),u=t.accountAddr,v=t.positionInfos,w=t.refreshPositionInfos,y=t.accountCoins,z=t.refreshAccountCoins,A=(0,h.useMemo)(function(){return new Set(c.map(function(a){return a.name}))},[c]),B=null!==r&&"connected"===s&&null!==u,C=(0,h.useCallback)(function(a){if(null===r|| !1===B||null===b){(0,I._N)("Cannot correctly sign the operation, wallet is either not connected or we could not operate the sign operation");return}var c,e=(c=(0,d.Z)(f().mark(function c(){var d;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,r.removeLiqudity({client:b,positionInfo:a});case 3:return d=c.sent,w(),p(),c.abrupt("return",d);case 9:throw c.prev=9,c.t0=c.catch(0),c.t0;case 12:case"end":return c.stop()}},c,null,[[0,9]])})),function(){return c.apply(this,arguments)});(0,I.pn)(b,"Harvest Position",e())},[r,B,I.pn,I._N,w,p]),D=(0,h.useState)(null),G=D[0],H=D[1],J=(0,h.useState)(!1),K=J[0],L=J[1],P=(0,h.useCallback)(function(a){H(a),L(!0)},[]),R=(0,h.useCallback)(function(){if(!B||null===b){(0,I._N)("Wallet is not connected or encoutering error when signing");return}var a,c,g=null!==(a=e(r.getMintTestCoinType()).demical)&& void 0!==a?a:0,h=(c=(0,d.Z)(f().mark(function a(){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.mintTestCoin({client:b,amount:BigInt(1e3)*(0,O.$)(BigInt(10),g)});case 2:return c=a.sent,z(),a.abrupt("return",c);case 5:case"end":return a.stop()}},a)})),function(){return c.apply(this,arguments)});(0,I.pn)(b,"Mint Test Token",h())},[B,b,r,I.pn,z,e]),S=(0,h.useMemo)(function(){return Array.from(null!=y?y:[]).filter(function(a){return A.has(a.type.name)}).sort(function(a,b){return a.type.name<b.type.name?-1:a.type.name>b.type.name?1:0}).map(function(a){return[a,e(a.type)]})},[y,A,e]);return(0,g.jsxs)("div",{children:[(0,g.jsxs)(j.Ku,{width:1290,children:[(0,g.jsx)(x,{}),(0,g.jsx)(k.Jh,{}),S.length>0?(0,g.jsx)(Q,{info:S}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)(M,{wallet:r,client:b,positionInfos:v,getCoinUi:e,onClickPositionInfoHarvestButton:C,onClickMintTestToken:R,enabledMintButton:B}),(0,g.jsx)(E,{pools:o,getCoinUi:e,onClickDeposit:P,depositButtonEnabled:B}),(0,g.jsx)(j.nv,{}),(0,g.jsx)(F,{})]}),(0,g.jsx)(m.u,{presented:K,setPresented:L,children:(0,g.jsx)(n.TJ,{poolInfo:G,getCoinUi:e,wallet:r,client:b,accountAddr:u,dismissModal:function(){L(!1)}})})]})},T=R},1163:function(a,b,c){a.exports=c(387)}},function(a){a.O(0,[675,276,192,212,774,888,179],function(){var b;return a(a.s=9301)}),_N_E=a.O()}])