"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{4284:function(a,b,c){c.d(b,{Ce:function(){return bQ},Kj:function(){return bN}});var d=c(780),e=c(5609),f=c(7286),g=c(3811),h=c(9905),i=c(4736),j=c(3026),k=c(6230),l=Object.defineProperty,m=Object.getOwnPropertyDescriptor,n=(a,b)=>{for(var c in b)l(a,c,{get:b[c],enumerable:!0})},o=(a,b,c,d)=>{for(var e,f=d>1?void 0:d?m(b,c):b,g=a.length-1;g>=0;g--)(e=a[g])&&(f=(d?e(b,c,f):e(f))||f);return d&&f&&l(b,c,f),f},p=/^m(\/[0-9]+')+$/,q=a=>a.replace("'",""),r=a=>{let b=h.b.create(i.o,"ed25519 seed"),c=b.update((0,g.nr)(a)).digest(),d=c.slice(0,32),e=c.slice(32);return{key:d,chainCode:e}},s=({key:a,chainCode:b},c)=>{let d=new ArrayBuffer(4);new DataView(d).setUint32(0,c);let e=new Uint8Array(d),f=new Uint8Array([0]),g=new Uint8Array([...f,...a,...e]),j=h.b.create(i.o,b).update(g).digest(),k=j.slice(0,32),l=j.slice(32);return{key:k,chainCode:l}},t=a=>!!p.test(a)&&!a.split("/").slice(1).map(q).some(Number.isNaN),u=(a,b,c=2147483648)=>{if(!t(a))throw Error("Invalid derivation path");let{key:d,chainCode:e}=r(b),f=a.split("/").slice(1).map(q).map(a=>parseInt(a,10));return f.reduce((a,b)=>s(a,b+c),{key:d,chainCode:e})},v=class{static fromBuffer(a){return v.fromUint8Array(a)}static fromUint8Array(a){return new v((0,g.ci)(a))}static ensure(a){return"string"==typeof a?new v(a):a}constructor(a){a.startsWith("0x")?this.hexString=a:this.hexString=`0x${a}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){let a=this.hexString.replace(/^0x0*/,"");return`0x${a}`}toUint8Array(){return Uint8Array.from((0,g.nr)(this.noPrefix()))}};async function w(a){return new Promise(b=>{setTimeout(b,a)})}function x(a){let b,c,d;return"object"==typeof a?(b=a.hashFunction,c=a.ttlMs,d=a.tags):b=a,(a,e,f)=>{if(null!=f.value)f.value=z(f.value,b,c,d);else if(null!=f.get)f.get=z(f.get,b,c,d);else throw Error("Only put a Memoize() decorator on a method or get accessor.")}}var y=new Map;function z(a,b,c=0,d){let e=Symbol("__memoized_map__");return function(...f){let g;this.hasOwnProperty(e)||Object.defineProperty(this,e,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let h=this[e];if(Array.isArray(d))for(let i of d)y.has(i)?y.get(i).push(h):y.set(i,[h]);if(b||f.length>0||c>0){let j;j=!0===b?f.map(a=>a.toString()).join("!"):b?b.apply(this,f):f[0];let k=`${j}__timestamp`,l=!1;if(c>0){if(h.has(k)){let m=h.get(k);l=Date.now()-m>c}else l=!0}h.has(j)&&!l?g=h.get(j):(g=a.apply(this,f),h.set(j,g),c>0&&h.set(k,Date.now()))}else{let n=this;h.has(n)?g=h.get(n):(g=a.apply(this,f),h.set(n,g))}return g}}var A=class{static fromAptosAccountObject(a){return new A(v.ensure(a.privateKeyHex).toUint8Array(),a.address)}static fromDerivePath(a,b){if(!A.isValidPath(a))throw Error("Invalid derivation path");let c=b.trim().split(/\s+/).map(a=>a.toLowerCase()).join(" "),{key:d}=u(a,(0,g.ci)(f.mnemonicToSeedSync(c)));return new A(d)}constructor(a,b){a?this.signingKey=d.sign.keyPair.fromSeed(a.slice(0,32)):this.signingKey=d.sign.keyPair(),this.accountAddress=v.ensure(b||this.authKey().hex())}address(){return this.accountAddress}authKey(){let a=e.DZ.create();return a.update(this.signingKey.publicKey),a.update("\0"),v.fromUint8Array(a.digest())}pubKey(){return v.fromUint8Array(this.signingKey.publicKey)}signBuffer(a){let b=d.sign(a,this.signingKey.secretKey);return v.fromUint8Array(b.slice(0,64))}signHexString(a){let b=v.ensure(a).toUint8Array();return this.signBuffer(b)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:v.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},B=A;B.isValidPath=a=>!!/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(a),o([x()],B.prototype,"authKey",1),n({},{$AccountData:()=>an,$AccountSignature:()=>ao,$AccountSignature_Ed25519Signature:()=>ap,$AccountSignature_MultiEd25519Signature:()=>aq,$Address:()=>ar,$AptosError:()=>as,$AptosErrorCode:()=>at,$Block:()=>au,$BlockMetadataTransaction:()=>av,$DecodedTableData:()=>aw,$DeleteModule:()=>ay,$DeleteResource:()=>az,$DeleteTableItem:()=>aA,$DeletedTableData:()=>ax,$DirectWriteSet:()=>aB,$Ed25519Signature:()=>aC,$EncodeSubmissionRequest:()=>aD,$EntryFunctionId:()=>aE,$EntryFunctionPayload:()=>aF,$Event:()=>aG,$EventGuid:()=>aH,$GasEstimation:()=>aI,$GenesisPayload:()=>aJ,$GenesisPayload_WriteSetPayload:()=>aK,$GenesisTransaction:()=>aL,$HashValue:()=>aM,$HealthCheckSuccess:()=>aN,$HexEncodedBytes:()=>aO,$IdentifierWrapper:()=>aP,$IndexResponse:()=>aQ,$ModuleBundlePayload:()=>aR,$MoveAbility:()=>aS,$MoveFunction:()=>aT,$MoveFunctionGenericTypeParam:()=>aU,$MoveFunctionVisibility:()=>aV,$MoveModule:()=>aW,$MoveModuleBytecode:()=>aX,$MoveModuleId:()=>aY,$MoveResource:()=>aZ,$MoveScriptBytecode:()=>a$,$MoveStruct:()=>a_,$MoveStructField:()=>a0,$MoveStructGenericTypeParam:()=>a1,$MoveStructTag:()=>a2,$MoveStructValue:()=>a3,$MoveType:()=>a4,$MoveValue:()=>a5,$MultiAgentSignature:()=>a6,$MultiEd25519Signature:()=>a7,$PendingTransaction:()=>a8,$RoleType:()=>a9,$ScriptPayload:()=>ba,$ScriptWriteSet:()=>bb,$StateCheckpointTransaction:()=>bc,$SubmitTransactionRequest:()=>bd,$TableItemRequest:()=>be,$Transaction:()=>bf,$TransactionPayload:()=>bl,$TransactionPayload_EntryFunctionPayload:()=>bm,$TransactionPayload_ModuleBundlePayload:()=>bn,$TransactionPayload_ScriptPayload:()=>bo,$TransactionSignature:()=>br,$TransactionSignature_Ed25519Signature:()=>bs,$TransactionSignature_MultiAgentSignature:()=>bt,$TransactionSignature_MultiEd25519Signature:()=>bu,$Transaction_BlockMetadataTransaction:()=>bg,$Transaction_GenesisTransaction:()=>bh,$Transaction_PendingTransaction:()=>bi,$Transaction_StateCheckpointTransaction:()=>bj,$Transaction_UserTransaction:()=>bk,$TransactionsBatchSingleSubmissionFailure:()=>bp,$TransactionsBatchSubmissionResult:()=>bq,$U128:()=>bv,$U64:()=>bw,$UserTransaction:()=>bx,$VersionedEvent:()=>by,$WriteModule:()=>bz,$WriteResource:()=>bA,$WriteSet:()=>bB,$WriteSetChange:()=>bE,$WriteSetChange_DeleteModule:()=>bF,$WriteSetChange_DeleteResource:()=>bG,$WriteSetChange_DeleteTableItem:()=>bH,$WriteSetChange_WriteModule:()=>bI,$WriteSetChange_WriteResource:()=>bJ,$WriteSetChange_WriteTableItem:()=>bK,$WriteSetPayload:()=>bL,$WriteSet_DirectWriteSet:()=>bC,$WriteSet_ScriptWriteSet:()=>bD,$WriteTableItem:()=>bM,AccountsService:()=>ac,ApiError:()=>D,AptosErrorCode:()=>ak,AptosGeneratedClient:()=>ai,BaseHttpRequest:()=>C,BlocksService:()=>ad,CancelError:()=>E,CancelablePromise:()=>F,EventsService:()=>ae,GeneralService:()=>af,MoveFunctionVisibility:()=>al,OpenAPI:()=>aj,RoleType:()=>am,TablesService:()=>ag,TransactionsService:()=>ah});var C=class{constructor(a){this.config=a}},D=class extends Error{constructor(a,b,c){super(c),this.name="ApiError",this.url=b.url,this.status=b.status,this.statusText=b.statusText,this.body=b.body,this.request=a}},E=class extends Error{constructor(a){super(a),this.name="CancelError"}get isCancelled(){return!0}},F=class{constructor(a){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((b,c)=>{this._resolve=b,this._reject=c;let d=a=>{var b;!this._isResolved&&!this._isRejected&&!this._isCancelled&&(this._isResolved=!0,null==(b=this._resolve)||b.call(this,a))},e=a=>{var b;!this._isResolved&&!this._isRejected&&!this._isCancelled&&(this._isRejected=!0,null==(b=this._reject)||b.call(this,a))},f=a=>{!this._isResolved&&!this._isRejected&&!this._isCancelled&&this._cancelHandlers.push(a)};return Object.defineProperty(f,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(f,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(f,"isCancelled",{get:()=>this._isCancelled}),a(d,e,f)})}then(a,b){return this._promise.then(a,b)}catch(a){return this._promise.catch(a)}finally(a){return this._promise.finally(a)}cancel(){var a;if(!this._isResolved&&!this._isRejected&&!this._isCancelled){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(let b of this._cancelHandlers)b()}catch(c){console.warn("Cancellation threw an error",c);return}this._cancelHandlers.length=0,null==(a=this._reject)||a.call(this,new E("Request aborted"))}}get isCancelled(){return this._isCancelled}},G=class{constructor(a=new Map){this.jar=a}setCookie(a,b){var c;let d=a.origin.toLowerCase();this.jar.has(d)||this.jar.set(d,[]);let e=G.parse(b);this.jar.set(d,[...(null==(c=this.jar.get(d))?void 0:c.filter(a=>a.name!==e.name))||[],e])}getCookies(a){var b;let c=a.origin.toLowerCase();return this.jar.get(c)&&(null==(b=this.jar.get(c))?void 0:b.filter(a=>!a.expires||a.expires>new Date))||[]}static parse(a){if("string"!=typeof a)throw Error("argument str must be a string");let b=a.split(";").map(a=>a.trim()),c;if(b.length>0){let[d,e]=b[0].split("=");if(!d||!e)throw Error("Invalid cookie");c={name:d,value:e}}else throw Error("Invalid cookie");return b.slice(1).forEach(a=>{let[b,d]=a.split("=");if(!b.trim())throw Error("Invalid cookie");let e=b.toLowerCase(),f=(null==d?void 0:d.charAt(0))==="'"||(null==d?void 0:d.charAt(0))==='"'?null==d?void 0:d.slice(1,-1):d;if("expires"===e&&(c.expires=new Date(f)),"path"===e&&(c.path=f),"samesite"===e){if("Lax"!==f&&"None"!==f&&"Strict"!==f)throw Error("Invalid cookie SameSite value");c.sameSite=f}"secure"===e&&(c.secure=!0)}),c}},H=new G;j.interceptors.response.use(a=>(Array.isArray(a.headers["set-cookie"])&&a.headers["set-cookie"].forEach(b=>{H.setCookie(new URL(a.config.url),b)}),a)),j.interceptors.request.use(function(a){let b=H.getCookies(new URL(a.url));return(null==b?void 0:b.length)>0&&a.headers&&(a.headers.cookie=b.map(a=>`${a.name}=${a.value}`).join("; ")),a});var I,J,K,L=a=>null!=a,M=a=>"string"==typeof a,N=a=>M(a)&&""!==a,O=a=>"object"==typeof a&&"string"==typeof a.type&&"function"==typeof a.stream&&"function"==typeof a.arrayBuffer&&"function"==typeof a.constructor&&"string"==typeof a.constructor.name&&/^(Blob|File)$/.test(a.constructor.name)&&/^(Blob|File)$/.test(a[Symbol.toStringTag]),P=a=>a instanceof k,Q=a=>a>=200&&a<300,R=a=>btoa(a),S=a=>{let b=[],c=(a,c)=>{b.push(`${encodeURIComponent(a)}=${encodeURIComponent(String(c))}`)},d=(a,b)=>{L(b)&&(Array.isArray(b)?b.forEach(b=>{d(a,b)}):"object"==typeof b?Object.entries(b).forEach(([b,c])=>{d(`${a}[${b}]`,c)}):c(a,b))};return(Object.entries(a).forEach(([a,b])=>{d(a,b)}),b.length>0)?`?${b.join("&")}`:""},T=(a,b)=>{let c=a.ENCODE_PATH||encodeURI,d=b.url.replace("{api-version}",a.VERSION).replace(/{(.*?)}/g,(a,d)=>{var e;return(null==(e=b.path)?void 0:e.hasOwnProperty(d))?c(String(b.path[d])):a}),e=`${a.BASE}${d}`;return b.query?`${e}${S(b.query)}`:e},U=a=>{if(a.formData){let b=new k,c=(a,c)=>{M(c)||O(c)?b.append(a,c):b.append(a,JSON.stringify(c))};return Object.entries(a.formData).filter(([a,b])=>L(b)).forEach(([a,b])=>{Array.isArray(b)?b.forEach(b=>c(a,b)):c(a,b)}),b}},V=async(a,b)=>"function"==typeof b?b(a):b,W=async(a,b,c)=>{let d=await V(b,a.TOKEN),e=await V(b,a.USERNAME),f=await V(b,a.PASSWORD),g=await V(b,a.HEADERS),h="function"==typeof(null==c?void 0:c.getHeaders)&&(null==c?void 0:c.getHeaders())||{},i=Object.entries({Accept:"application/json",...g,...b.headers,...h}).filter(([a,b])=>L(b)).reduce((a,[b,c])=>({...a,[b]:String(c)}),{});if(N(d)&&(i.Authorization=`Bearer ${d}`),N(e)&&N(f)){let j=R(`${e}:${f}`);i.Authorization=`Basic ${j}`}return b.body&&(b.mediaType?i["Content-Type"]=b.mediaType:O(b.body)?i["Content-Type"]=b.body.type||"application/octet-stream":M(b.body)?i["Content-Type"]="text/plain":P(b.body)||(i["Content-Type"]="application/json")),i},X=a=>{if(a.body)return a.body},Y=async(a,b,c,d,e,f,g)=>{let h=j.CancelToken.source(),i={url:c,headers:f,data:null!=d?d:e,method:b.method,withCredentials:a.WITH_CREDENTIALS,cancelToken:h.token},k=Object.keys(a.HEADERS||{}).filter(a=>"accept"===a.toLowerCase()).map(b=>a.HEADERS[b]).includes("application/x-bcs");k&&(i.responseType="arraybuffer"),g(()=>h.cancel("The user aborted a request."));try{return await j.request(i)}catch(l){let m=l;if(m.response)return m.response;throw l}},Z=(a,b)=>{if(b){let c=a.headers[b];if(M(c))return c}},$=a=>{if(204!==a.status)return a.data},_=(a,b)=>{let c={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...a.errors},d=c[b.status];if(d)throw new D(a,b,d);if(!b.ok)throw new D(a,b,"Generic Error")},aa=(a,b)=>new F(async(c,d,e)=>{try{let f=T(a,b),g=U(b),h=X(b),i=await W(a,b,g);if(!e.isCancelled){let j=await Y(a,b,f,h,g,i,e),k=$(j),l=Z(j,b.responseHeader),m={url:f,ok:Q(j.status),status:j.status,statusText:j.statusText,body:null!=l?l:k};_(b,m),c(m.body)}}catch(n){d(n)}}),ab=class extends C{constructor(a){super(a)}request(a){return aa(this.config,a)}},ac=class{constructor(a){this.httpRequest=a}getAccount(a,b){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:a},query:{ledger_version:b}})}getAccountResources(a,b){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:a},query:{ledger_version:b}})}getAccountModules(a,b){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:a},query:{ledger_version:b}})}getAccountResource(a,b,c){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:a,resource_type:b},query:{ledger_version:c}})}getAccountModule(a,b,c){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:a,module_name:b},query:{ledger_version:c}})}},ad=class{constructor(a){this.httpRequest=a}getBlockByHeight(a,b){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:a},query:{with_transactions:b}})}getBlockByVersion(a,b){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:a},query:{with_transactions:b}})}},ae=class{constructor(a){this.httpRequest=a}getEventsByCreationNumber(a,b,c,d){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:a,creation_number:b},query:{start:c,limit:d}})}getEventsByEventHandle(a,b,c,d,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:a,event_handle:b,field_name:c},query:{start:d,limit:e}})}},af=class{constructor(a){this.httpRequest=a}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(a){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:a}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},ag=class{constructor(a){this.httpRequest=a}getTableItem(a,b,c){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:a},query:{ledger_version:c},body:b,mediaType:"application/json"})}},ah=class{constructor(a){this.httpRequest=a}getTransactions(a,b){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:a,limit:b}})}submitTransaction(a){return this.httpRequest.request({method:"POST",url:"/transactions",body:a,mediaType:"application/json"})}getTransactionByHash(a){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:a}})}getTransactionByVersion(a){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:a}})}getAccountTransactions(a,b,c){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:a},query:{start:b,limit:c}})}submitBatchTransactions(a){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:a,mediaType:"application/json"})}simulateTransaction(a,b,c,d){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:b,estimate_gas_unit_price:c,estimate_prioritized_gas_unit_price:d},body:a,mediaType:"application/json"})}encodeSubmission(a){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:a,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},ai=class{constructor(a,b=ab){var c,d,e,f;this.request=new b({BASE:null!=(c=null==a?void 0:a.BASE)?c:"/v1",VERSION:null!=(d=null==a?void 0:a.VERSION)?d:"1.2.0",WITH_CREDENTIALS:null!=(e=null==a?void 0:a.WITH_CREDENTIALS)&&e,CREDENTIALS:null!=(f=null==a?void 0:a.CREDENTIALS)?f:"include",TOKEN:null==a?void 0:a.TOKEN,USERNAME:null==a?void 0:a.USERNAME,PASSWORD:null==a?void 0:a.PASSWORD,HEADERS:null==a?void 0:a.HEADERS,ENCODE_PATH:null==a?void 0:a.ENCODE_PATH}),this.accounts=new ac(this.request),this.blocks=new ad(this.request),this.events=new ae(this.request),this.general=new af(this.request),this.tables=new ag(this.request),this.transactions=new ah(this.request)}},aj={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},ak=((I=ak||{}).ACCOUNT_NOT_FOUND="account_not_found",I.RESOURCE_NOT_FOUND="resource_not_found",I.MODULE_NOT_FOUND="module_not_found",I.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",I.VERSION_NOT_FOUND="version_not_found",I.TRANSACTION_NOT_FOUND="transaction_not_found",I.TABLE_ITEM_NOT_FOUND="table_item_not_found",I.BLOCK_NOT_FOUND="block_not_found",I.VERSION_PRUNED="version_pruned",I.BLOCK_PRUNED="block_pruned",I.INVALID_INPUT="invalid_input",I.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",I.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",I.VM_ERROR="vm_error",I.HEALTH_CHECK_FAILED="health_check_failed",I.MEMPOOL_IS_FULL="mempool_is_full",I.INTERNAL_ERROR="internal_error",I.WEB_FRAMEWORK_ERROR="web_framework_error",I.BCS_NOT_SUPPORTED="bcs_not_supported",I.API_DISABLED="api_disabled",I),al=((J=al||{}).PRIVATE="private",J.PUBLIC="public",J.FRIEND="friend",J),am=((K=am||{}).VALIDATOR="validator",K.FULL_NODE="full_node",K),an={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},ao={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},ap={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},aq={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},ar={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},as={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},at={type:"Enum"},au={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},av={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},aw={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},ax={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},ay={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},az={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},aA={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},aB={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},aC={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},aD={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},aE={type:"string",description:`Entry function id is string representation of a entry function defined on-chain.

    Format: \`{address}::{module name}::{function name}\`

    Both \`module name\` and \`function name\` are case-sensitive.
    `},aF={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},aG={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},aH={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},aI={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},aJ={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},aK={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},aL={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},aM={type:"string"},aN={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},aO={type:"string",description:`All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with \`0x\` and fulfilled with
    two hex digits per byte.

    Unlike the \`Address\` type, HexEncodedBytes will not trim any zeros.
    `,format:"hex"},aP={type:"string"},aQ={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string"}}},aR={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},aS={type:"string"},aT={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},aU={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},aV={type:"Enum"},aW={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},aX={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},aY={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},aZ={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},a$={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},a_={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},a0={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},a1={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},a2={type:"string",description:`String representation of a MoveStructTag (on-chain Move struct type). This exists so you
    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.

    It is a combination of:
    1. \`move_module_address\`, \`module_name\` and \`struct_name\`, all joined by \`::\`
    2. \`struct generic type parameters\` joined by \`, \`

    Examples:
     * \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>\`
     * \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).

    See [doc](https://aptos.dev/concepts/basics-accounts) for more details.
    `,pattern:"^0x[0-9a-zA-Z:_<>]+$"},a3={description:`This is a JSON representation of some data within an account resource. More specifically,
    it is a map of strings to arbitrary JSON values / objects, where the keys are top level
    fields within the given resource.

    To clarify, you might query for 0x1::account::Account and see the example data.

    Move \`bool\` type value is serialized into \`boolean\`.

    Move \`u8\` type value is serialized into \`integer\`.

    Move \`u64\` and \`u128\` type value is serialized into \`string\`.

    Move \`address\` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.
    For example:
    - \`0x1\`
    - \`0x1668f6be25668c1a17cd8caf6b8d2f25\`

    Move \`vector\` type value is serialized into \`array\`, except \`vector<u8>\` which is serialized into a
    HexEncodedBytes string with \`0x\` prefix.
    For example:
    - \`vector<u64>{255, 255}\` => \`["255", "255"]\`
    - \`vector<u8>{255, 255}\` => \`0xffff\`

    Move \`struct\` type value is serialized into \`object\` that looks like this (except some Move stdlib types, see the following section):
    \`\`\`json
    {
        field1_name: field1_value,
        field2_name: field2_value,
        ......
    }
    \`\`\`

    For example:
    \`{ "created": "0xa550c18", "role_id": "0" }\`

     **Special serialization for Move stdlib types**:
    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)
    is serialized into \`string\`. For example, struct value \`0x1::string::String{bytes: b"Hello World!"}\`
    is serialized as \`"Hello World!"\` in JSON.
    `,properties:{}},a4={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u64
    - u128
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},a5={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"U64"},{type:"U128"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},a6={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},a7={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},a8={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},a9={type:"Enum"},ba={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},bb={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},bc={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},bd={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},be={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},bf={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},bg={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},bh={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},bi={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},bj={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},bk={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},bl={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"}]},bm={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},bn={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},bo={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},bp={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},bq={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},br={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},bs={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},bt={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},bu={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},bv={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},bw={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},bx={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},by={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},bz={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},bA={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},bB={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},bC={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},bD={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},bE={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},bF={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},bG={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},bH={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},bI={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},bJ={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},bK={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},bL={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},bM={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}},bN={};n(bN,{AccountAddress:()=>bP,AccountAuthenticator:()=>cj,AccountAuthenticatorEd25519:()=>ck,AccountAuthenticatorMultiEd25519:()=>cl,AuthenticationKey:()=>cV,ChainId:()=>cK,ChangeSet:()=>cC,Ed25519PublicKey:()=>b9,Ed25519Signature:()=>cb,EntryFunction:()=>cz,Identifier:()=>cm,Module:()=>cA,ModuleId:()=>cB,MultiAgentRawTransaction:()=>cG,MultiEd25519PublicKey:()=>cc,MultiEd25519Signature:()=>ce,RawTransaction:()=>cx,RawTransactionWithData:()=>cF,RotationProofChallenge:()=>cW,Script:()=>cy,SignedTransaction:()=>cE,StructTag:()=>cw,Transaction:()=>cS,TransactionArgument:()=>cL,TransactionArgumentAddress:()=>cP,TransactionArgumentBool:()=>cR,TransactionArgumentU128:()=>cO,TransactionArgumentU64:()=>cN,TransactionArgumentU8:()=>cM,TransactionArgumentU8Vector:()=>cQ,TransactionAuthenticator:()=>cf,TransactionAuthenticatorEd25519:()=>cg,TransactionAuthenticatorMultiAgent:()=>ci,TransactionAuthenticatorMultiEd25519:()=>ch,TransactionPayload:()=>cH,TransactionPayloadEntryFunction:()=>cJ,TransactionPayloadScript:()=>cI,TypeTag:()=>cn,TypeTagAddress:()=>cs,TypeTagBool:()=>co,TypeTagSigner:()=>ct,TypeTagStruct:()=>cv,TypeTagU128:()=>cr,TypeTagU64:()=>cq,TypeTagU8:()=>cp,TypeTagVector:()=>cu,UserTransaction:()=>cT,WriteSet:()=>cD});var bO=class{constructor(a){if(a.length!==bO.LENGTH)throw Error("Expected address of length 32");this.address=a}static fromHex(a){let b=v.ensure(a);b.noPrefix().length%2!=0&&(b=new v(`0${b.noPrefix()}`));let c=b.toUint8Array();if(c.length>bO.LENGTH)throw Error("Hex string is too long. Address's length is 32 bytes.");if(c.length===bO.LENGTH)return new bO(c);let d=new Uint8Array(bO.LENGTH);return d.set(c,bO.LENGTH-c.length),new bO(d)}serialize(a){a.serializeFixedBytes(this.address)}static deserialize(a){return new bO(a.deserializeFixedBytes(bO.LENGTH))}},bP=bO;bP.LENGTH=32,bP.CORE_CODE_ADDRESS=bO.fromHex("0x1");var bQ={};n(bQ,{Deserializer:()=>bW,Serializer:()=>bU,bcsSerializeBool:()=>b4,bcsSerializeBytes:()=>b6,bcsSerializeFixedBytes:()=>b7,bcsSerializeStr:()=>b5,bcsSerializeU128:()=>b3,bcsSerializeU16:()=>b1,bcsSerializeU32:()=>b2,bcsSerializeU8:()=>b0,bcsSerializeUint64:()=>b_,bcsToBytes:()=>b$,deserializeVector:()=>bZ,serializeVector:()=>bX,serializeVectorWithFunc:()=>bY});var bR=4294967296-1,bS=BigInt(18446744073709552e3)-BigInt(1),bT=BigInt(3402823669209385e23)-BigInt(1),bU=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(a){for(;this.buffer.byteLength<this.offset+a;){let b=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(b).set(new Uint8Array(this.buffer)),this.buffer=b}}serialize(a){this.ensureBufferWillHandleSize(a.length),new Uint8Array(this.buffer,this.offset).set(a),this.offset+=a.length}serializeWithFunction(a,b,c){this.ensureBufferWillHandleSize(b);let d=new DataView(this.buffer,this.offset);a.apply(d,[0,c,!0]),this.offset+=b}serializeStr(a){let b=new TextEncoder;this.serializeBytes(b.encode(a))}serializeBytes(a){this.serializeU32AsUleb128(a.length),this.serialize(a)}serializeFixedBytes(a){this.serialize(a)}serializeBool(a){if("boolean"!=typeof a)throw Error("Value needs to be a boolean");this.serialize(new Uint8Array([a?1:0]))}serializeU8(a){this.serialize(new Uint8Array([a]))}serializeU16(a){this.serializeWithFunction(DataView.prototype.setUint16,2,a)}serializeU32(a){this.serializeWithFunction(DataView.prototype.setUint32,4,a)}serializeU64(a){let b=BigInt(a.toString())&BigInt(bR),c=BigInt(a.toString())>>BigInt(32);this.serializeU32(Number(b)),this.serializeU32(Number(c))}serializeU128(a){let b=BigInt(a.toString())&bS,c=BigInt(a.toString())>>BigInt(64);this.serializeU64(b),this.serializeU64(c)}serializeU32AsUleb128(a){let b=a,c=[];for(;b>>>7!=0;)c.push(127&b|128),b>>>=7;c.push(b),this.serialize(new Uint8Array(c))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function bV(a,b,c){return(d,e,f)=>{let g=f.value;return f.value=function(d){let e=BigInt(d.toString());if(e>BigInt(b.toString())||e<BigInt(a.toString()))throw Error(c||"Value is out of range");g.apply(this,[d])},f}}o([bV(0,255)],bU.prototype,"serializeU8",1),o([bV(0,65535)],bU.prototype,"serializeU16",1),o([bV(0,bR)],bU.prototype,"serializeU32",1),o([bV(BigInt(0),bS)],bU.prototype,"serializeU64",1),o([bV(BigInt(0),bT)],bU.prototype,"serializeU128",1),o([bV(0,bR)],bU.prototype,"serializeU32AsUleb128",1);var bW=class{constructor(a){this.buffer=new ArrayBuffer(a.length),new Uint8Array(this.buffer).set(a,0),this.offset=0}read(a){if(this.offset+a>this.buffer.byteLength)throw Error("Reached to the end of buffer");let b=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,b}deserializeStr(){let a=this.deserializeBytes(),b=new TextDecoder;return b.decode(a)}deserializeBytes(){let a=this.deserializeUleb128AsU32();return new Uint8Array(this.read(a))}deserializeFixedBytes(a){return new Uint8Array(this.read(a))}deserializeBool(){let a=new Uint8Array(this.read(1))[0];if(1!==a&&0!==a)throw Error("Invalid boolean value");return 1===a}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){let a=this.deserializeU32(),b=this.deserializeU32();return BigInt(BigInt(b)<<BigInt(32)|BigInt(a))}deserializeU128(){let a=this.deserializeU64(),b=this.deserializeU64();return BigInt(b<<BigInt(64)|a)}deserializeUleb128AsU32(){let a=BigInt(0),b=0;for(;a<bR;){let c=this.deserializeU8();if(a|=BigInt(127&c)<<BigInt(b),(128&c)==0)break;b+=7}if(a>bR)throw Error("Overflow while parsing uleb128-encoded uint32 value");return Number(a)}};function bX(a,b){b.serializeU32AsUleb128(a.length),a.forEach(a=>{a.serialize(b)})}function bY(a,b){let c=new bU;c.serializeU32AsUleb128(a.length);let d=c[b];return a.forEach(a=>{d.call(c,a)}),c.getBytes()}function bZ(a,b){let c=a.deserializeUleb128AsU32(),d=[];for(let e=0;e<c;e+=1)d.push(b.deserialize(a));return d}function b$(a){let b=new bU;return a.serialize(b),b.getBytes()}function b_(a){let b=new bU;return b.serializeU64(a),b.getBytes()}function b0(a){let b=new bU;return b.serializeU8(a),b.getBytes()}function b1(a){let b=new bU;return b.serializeU16(a),b.getBytes()}function b2(a){let b=new bU;return b.serializeU32(a),b.getBytes()}function b3(a){let b=new bU;return b.serializeU128(a),b.getBytes()}function b4(a){let b=new bU;return b.serializeBool(a),b.getBytes()}function b5(a){let b=new bU;return b.serializeStr(a),b.getBytes()}function b6(a){let b=new bU;return b.serializeBytes(a),b.getBytes()}function b7(a){let b=new bU;return b.serializeFixedBytes(a),b.getBytes()}var b8=class{constructor(a){if(a.length!==b8.LENGTH)throw Error(`Ed25519PublicKey length should be ${b8.LENGTH}`);this.value=a}toBytes(){return this.value}serialize(a){a.serializeBytes(this.value)}static deserialize(a){let b=a.deserializeBytes();return new b8(b)}},b9=b8;b9.LENGTH=32;var ca=class{constructor(a){if(this.value=a,a.length!==ca.LENGTH)throw Error(`Ed25519Signature length should be ${ca.LENGTH}`)}serialize(a){a.serializeBytes(this.value)}static deserialize(a){let b=a.deserializeBytes();return new ca(b)}},cb=ca;cb.LENGTH=64;var cc=class{constructor(a,b){if(this.public_keys=a,this.threshold=b,b>32)throw Error('"threshold" cannot be larger than 32')}toBytes(){let a=new Uint8Array(this.public_keys.length*b9.LENGTH+1);return this.public_keys.forEach((b,c)=>{a.set(b.value,c*b9.LENGTH)}),a[this.public_keys.length*b9.LENGTH]=this.threshold,a}serialize(a){a.serializeBytes(this.toBytes())}static deserialize(a){let b=a.deserializeBytes(),c=b[b.length-1],d=[];for(let e=0;e<b.length-1;e+=b9.LENGTH){let f=e;d.push(new b9(b.subarray(f,f+b9.LENGTH)))}return new cc(d,c)}},cd=class{constructor(a,b){if(this.signatures=a,this.bitmap=b,b.length!==cd.BITMAP_LEN)throw Error(`"bitmap" length should be ${cd.BITMAP_LEN}`)}toBytes(){let a=new Uint8Array(this.signatures.length*cb.LENGTH+cd.BITMAP_LEN);return this.signatures.forEach((b,c)=>{a.set(b.value,c*cb.LENGTH)}),a.set(this.bitmap,this.signatures.length*cb.LENGTH),a}static createBitmap(a){let b=new Uint8Array([0,0,0,0]),c=new Set;return a.forEach(a=>{if(a>=32)throw Error(`Invalid bit value ${a}.`);if(c.has(a))throw Error("Duplicated bits detected.");c.add(a);let d=Math.floor(a/8),e=b[d];e|=128>>a%8,b[d]=e}),b}serialize(a){a.serializeBytes(this.toBytes())}static deserialize(a){let b=a.deserializeBytes(),c=b.subarray(b.length-4),d=[];for(let e=0;e<b.length-c.length;e+=cb.LENGTH){let f=e;d.push(new cb(b.subarray(f,f+cb.LENGTH)))}return new cd(d,c)}},ce=cd;ce.BITMAP_LEN=4;var cf=class{static deserialize(a){let b=a.deserializeUleb128AsU32();switch(b){case 0:return cg.load(a);case 1:return ch.load(a);case 2:return ci.load(a);default:throw Error(`Unknown variant index for TransactionAuthenticator: ${b}`)}}},cg=class extends cf{constructor(a,b){super(),this.public_key=a,this.signature=b}serialize(a){a.serializeU32AsUleb128(0),this.public_key.serialize(a),this.signature.serialize(a)}static load(a){let b=b9.deserialize(a),c=cb.deserialize(a);return new cg(b,c)}},ch=class extends cf{constructor(a,b){super(),this.public_key=a,this.signature=b}serialize(a){a.serializeU32AsUleb128(1),this.public_key.serialize(a),this.signature.serialize(a)}static load(a){let b=cc.deserialize(a),c=ce.deserialize(a);return new ch(b,c)}},ci=class extends cf{constructor(a,b,c){super(),this.sender=a,this.secondary_signer_addresses=b,this.secondary_signers=c}serialize(a){a.serializeU32AsUleb128(2),this.sender.serialize(a),bX(this.secondary_signer_addresses,a),bX(this.secondary_signers,a)}static load(a){let b=cj.deserialize(a),c=bZ(a,bP),d=bZ(a,cj);return new ci(b,c,d)}},cj=class{static deserialize(a){let b=a.deserializeUleb128AsU32();switch(b){case 0:return ck.load(a);case 1:return cl.load(a);default:throw Error(`Unknown variant index for AccountAuthenticator: ${b}`)}}},ck=class extends cj{constructor(a,b){super(),this.public_key=a,this.signature=b}serialize(a){a.serializeU32AsUleb128(0),this.public_key.serialize(a),this.signature.serialize(a)}static load(a){let b=b9.deserialize(a),c=cb.deserialize(a);return new ck(b,c)}},cl=class extends cj{constructor(a,b){super(),this.public_key=a,this.signature=b}serialize(a){a.serializeU32AsUleb128(1),this.public_key.serialize(a),this.signature.serialize(a)}static load(a){let b=cc.deserialize(a),c=ce.deserialize(a);return new cl(b,c)}},cm=class{constructor(a){this.value=a}serialize(a){a.serializeStr(this.value)}static deserialize(a){let b=a.deserializeStr();return new cm(b)}},cn=class{static deserialize(a){let b=a.deserializeUleb128AsU32();switch(b){case 0:return co.load(a);case 1:return cp.load(a);case 2:return cq.load(a);case 3:return cr.load(a);case 4:return cs.load(a);case 5:return ct.load(a);case 6:return cu.load(a);case 7:return cv.load(a);default:throw Error(`Unknown variant index for TypeTag: ${b}`)}}},co=class extends cn{serialize(a){a.serializeU32AsUleb128(0)}static load(a){return new co}},cp=class extends cn{serialize(a){a.serializeU32AsUleb128(1)}static load(a){return new cp}},cq=class extends cn{serialize(a){a.serializeU32AsUleb128(2)}static load(a){return new cq}},cr=class extends cn{serialize(a){a.serializeU32AsUleb128(3)}static load(a){return new cr}},cs=class extends cn{serialize(a){a.serializeU32AsUleb128(4)}static load(a){return new cs}},ct=class extends cn{serialize(a){a.serializeU32AsUleb128(5)}static load(a){return new ct}},cu=class extends cn{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(6),this.value.serialize(a)}static load(a){let b=cn.deserialize(a);return new cu(b)}},cv=class extends cn{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(7),this.value.serialize(a)}static load(a){let b=cw.deserialize(a);return new cv(b)}},cw=class{constructor(a,b,c,d){this.address=a,this.module_name=b,this.name=c,this.type_args=d}static fromString(a){if(a.includes("<"))throw Error("Not implemented");let b=a.split("::");if(3!==b.length)throw Error("Invalid struct tag string literal.");return new cw(bP.fromHex(b[0]),new cm(b[1]),new cm(b[2]),[])}serialize(a){this.address.serialize(a),this.module_name.serialize(a),this.name.serialize(a),bX(this.type_args,a)}static deserialize(a){let b=bP.deserialize(a),c=cm.deserialize(a),d=cm.deserialize(a),e=bZ(a,cn);return new cw(b,c,d,e)}},cx=class{constructor(a,b,c,d,e,f,g){this.sender=a,this.sequence_number=b,this.payload=c,this.max_gas_amount=d,this.gas_unit_price=e,this.expiration_timestamp_secs=f,this.chain_id=g}serialize(a){this.sender.serialize(a),a.serializeU64(this.sequence_number),this.payload.serialize(a),a.serializeU64(this.max_gas_amount),a.serializeU64(this.gas_unit_price),a.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(a)}static deserialize(a){let b=bP.deserialize(a),c=a.deserializeU64(),d=cH.deserialize(a),e=a.deserializeU64(),f=a.deserializeU64(),g=a.deserializeU64(),h=cK.deserialize(a);return new cx(b,c,d,e,f,g,h)}},cy=class{constructor(a,b,c){this.code=a,this.ty_args=b,this.args=c}serialize(a){a.serializeBytes(this.code),bX(this.ty_args,a),bX(this.args,a)}static deserialize(a){let b=a.deserializeBytes(),c=bZ(a,cn),d=bZ(a,cL);return new cy(b,c,d)}},cz=class{constructor(a,b,c,d){this.module_name=a,this.function_name=b,this.ty_args=c,this.args=d}static natural(a,b,c,d){return new cz(cB.fromStr(a),new cm(b),c,d)}static natual(a,b,c,d){return cz.natural(a,b,c,d)}serialize(a){this.module_name.serialize(a),this.function_name.serialize(a),bX(this.ty_args,a),a.serializeU32AsUleb128(this.args.length),this.args.forEach(b=>{a.serializeBytes(b)})}static deserialize(a){let b=cB.deserialize(a),c=cm.deserialize(a),d=bZ(a,cn),e=a.deserializeUleb128AsU32(),f=[];for(let g=0;g<e;g+=1)f.push(a.deserializeBytes());return new cz(b,c,d,f)}},cA=class{constructor(a){this.code=a}serialize(a){a.serializeBytes(this.code)}static deserialize(a){let b=a.deserializeBytes();return new cA(b)}},cB=class{constructor(a,b){this.address=a,this.name=b}static fromStr(a){let b=a.split("::");if(2!==b.length)throw Error("Invalid module id.");return new cB(bP.fromHex(new v(b[0])),new cm(b[1]))}serialize(a){this.address.serialize(a),this.name.serialize(a)}static deserialize(a){let b=bP.deserialize(a),c=cm.deserialize(a);return new cB(b,c)}},cC=class{serialize(a){throw Error("Not implemented.")}static deserialize(a){throw Error("Not implemented.")}},cD=class{serialize(a){throw Error("Not implmented.")}static deserialize(a){throw Error("Not implmented.")}},cE=class{constructor(a,b){this.raw_txn=a,this.authenticator=b}serialize(a){this.raw_txn.serialize(a),this.authenticator.serialize(a)}static deserialize(a){let b=cx.deserialize(a),c=cf.deserialize(a);return new cE(b,c)}},cF=class{static deserialize(a){let b=a.deserializeUleb128AsU32();if(0===b)return cG.load(a);throw Error(`Unknown variant index for RawTransactionWithData: ${b}`)}},cG=class extends cF{constructor(a,b){super(),this.raw_txn=a,this.secondary_signer_addresses=b}serialize(a){a.serializeU32AsUleb128(0),this.raw_txn.serialize(a),bX(this.secondary_signer_addresses,a)}static load(a){let b=cx.deserialize(a),c=bZ(a,bP);return new cG(b,c)}},cH=class{static deserialize(a){let b=a.deserializeUleb128AsU32();switch(b){case 0:return cI.load(a);case 2:return cJ.load(a);default:throw Error(`Unknown variant index for TransactionPayload: ${b}`)}}},cI=class extends cH{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(0),this.value.serialize(a)}static load(a){let b=cy.deserialize(a);return new cI(b)}},cJ=class extends cH{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(2),this.value.serialize(a)}static load(a){let b=cz.deserialize(a);return new cJ(b)}},cK=class{constructor(a){this.value=a}serialize(a){a.serializeU8(this.value)}static deserialize(a){let b=a.deserializeU8();return new cK(b)}},cL=class{static deserialize(a){let b=a.deserializeUleb128AsU32();switch(b){case 0:return cM.load(a);case 1:return cN.load(a);case 2:return cO.load(a);case 3:return cP.load(a);case 4:return cQ.load(a);case 5:return cR.load(a);default:throw Error(`Unknown variant index for TransactionArgument: ${b}`)}}},cM=class extends cL{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(0),a.serializeU8(this.value)}static load(a){let b=a.deserializeU8();return new cM(b)}},cN=class extends cL{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(1),a.serializeU64(this.value)}static load(a){let b=a.deserializeU64();return new cN(b)}},cO=class extends cL{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(2),a.serializeU128(this.value)}static load(a){let b=a.deserializeU128();return new cO(b)}},cP=class extends cL{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(3),this.value.serialize(a)}static load(a){let b=bP.deserialize(a);return new cP(b)}},cQ=class extends cL{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(4),a.serializeBytes(this.value)}static load(a){let b=a.deserializeBytes();return new cQ(b)}},cR=class extends cL{constructor(a){super(),this.value=a}serialize(a){a.serializeU32AsUleb128(5),a.serializeBool(this.value)}static load(a){let b=a.deserializeBool();return new cR(b)}},cS=class{getHashSalt(){let a=e.DZ.create();return a.update("APTOS::Transaction"),a.digest()}static deserialize(a){let b=a.deserializeUleb128AsU32();if(0===b)return cT.load(a);throw Error(`Unknown variant index for Transaction: ${b}`)}},cT=class extends cS{constructor(a){super(),this.value=a}hash(){let a=e.DZ.create();return a.update(this.getHashSalt()),a.update(b$(this)),a.digest()}serialize(a){a.serializeU32AsUleb128(0),this.value.serialize(a)}static load(a){return new cT(cE.deserialize(a))}},cU=class{constructor(a){if(a.length!==cU.LENGTH)throw Error("Expected a byte array of length 32");this.bytes=a}static fromMultiEd25519PublicKey(a){let b=a.toBytes(),c=new Uint8Array(b.length+1);c.set(b),c.set([cU.MULTI_ED25519_SCHEME],b.length);let d=e.DZ.create();return d.update(c),new cU(d.digest())}derivedAddress(){return v.fromUint8Array(this.bytes)}},cV=cU;cV.LENGTH=32,cV.MULTI_ED25519_SCHEME=1;var cW=class{constructor(a,b,c,d,e,f,g){this.accountAddress=a,this.moduleName=b,this.structName=c,this.sequenceNumber=d,this.originator=e,this.currentAuthKey=f,this.newPublicKey=g}serialize(a){this.accountAddress.serialize(a),a.serializeStr(this.moduleName),a.serializeStr(this.structName),a.serializeU64(this.sequenceNumber),this.originator.serialize(a),this.currentAuthKey.serialize(a),a.serializeBytes(this.newPublicKey)}},cX=class{constructor(a){this.name=a}serialize(a){a.serializeStr(this.name)}static deserialize(a){let b=a.deserializeStr();return new cX(b)}},cY=class{constructor(a,b){this.name=a,this.type_tag=b}serialize(a){a.serializeStr(this.name),this.type_tag.serialize(a)}static deserialize(a){let b=a.deserializeStr(),c=cn.deserialize(a);return new cY(b,c)}},cZ=class{static deserialize(a){let b=a.deserializeUleb128AsU32();switch(b){case 0:return c$.load(a);case 1:return c_.load(a);default:throw Error(`Unknown variant index for TransactionPayload: ${b}`)}}},c$=class extends cZ{constructor(a,b,c,d,e){super(),this.name=a,this.doc=b,this.code=c,this.ty_args=d,this.args=e}serialize(a){a.serializeU32AsUleb128(0),a.serializeStr(this.name),a.serializeStr(this.doc),a.serializeBytes(this.code),bX(this.ty_args,a),bX(this.args,a)}static load(a){let b=a.deserializeStr(),c=a.deserializeStr(),d=a.deserializeBytes(),e=bZ(a,cX),f=bZ(a,cY);return new c$(b,c,d,e,f)}},c_=class extends cZ{constructor(a,b,c,d,e){super(),this.name=a,this.module_name=b,this.doc=c,this.ty_args=d,this.args=e}serialize(a){a.serializeU32AsUleb128(1),a.serializeStr(this.name),this.module_name.serialize(a),a.serializeStr(this.doc),bX(this.ty_args,a),bX(this.args,a)}static load(a){let b=a.deserializeStr(),c=cB.deserialize(a),d=a.deserializeStr(),e=bZ(a,cX),f=bZ(a,cY);return new c_(b,c,d,e,f)}};function c0(a,b,c){if(!(null==b?void 0:b.includes(typeof a)))throw Error(c||`Invalid arg: ${a} type should be ${b instanceof Array?b.join(" or "):b}`)}function c1(a){throw Error(a)}function c2(a){return!!a.match(/\s/)}function c3(a){return!!a.match(/[_A-Za-z0-9]/g)}function c4(a,b){let c=a[b];if(":"===c){if("::"===a.slice(b,b+2))return[["COLON","::"],2];c1("Unrecognized token.")}else if("<"===c)return[["LT","<"],1];else if(">"===c)return[["GT",">"],1];else if(","===c)return[["COMMA",","],1];else if(c2(c)){let d="";for(let e=b;e<a.length;e+=1){let f=a[e];if(c2(f))d=`${d}${f}`;else break}return[["SPACE",d],d.length]}else if(c3(c)){let g="";for(let h=b;h<a.length;h+=1){let i=a[h];if(c3(i))g=`${g}${i}`;else break}return[["IDENT",g],g.length]}throw Error("Unrecognized token.")}var c5=class{constructor(a){this.tokens=function(a){let b=0,c=[];for(;b<a.length;){let[d,e]=c4(a,b);"SPACE"!==d[0]&&c.push(d),b+=e}return c}(a)}consume(a){let b=this.tokens.shift();b&&b[1]===a||c1("Invalid type tag.")}parseCommaList(a,b){let c=[];for(this.tokens.length<=0&&c1("Invalid type tag.");this.tokens[0][1]!==a&&(c.push(this.parseTypeTag()),!(this.tokens.length>0)||this.tokens[0][1]!==a)&&(this.consume(","),!(this.tokens.length>0)||this.tokens[0][1]!==a||!b);){this.tokens.length<=0&&c1("Invalid type tag.")}return c}parseTypeTag(){0===this.tokens.length&&c1("Invalid type tag.");let[a,b]=this.tokens.shift();if("u8"===b)return new cp;if("u64"===b)return new cq;if("u128"===b)return new cr;if("bool"===b)return new co;if("address"===b)return new cs;if("vector"===b){this.consume("<");let c=this.parseTypeTag();return this.consume(">"),new cu(c)}if("IDENT"===a&&(b.startsWith("0x")||b.startsWith("0X"))){let d=b;this.consume("::");let[e,f]=this.tokens.shift();"IDENT"!==e&&c1("Invalid type tag."),this.consume("::");let[g,h]=this.tokens.shift();"IDENT"!==g&&c1("Invalid type tag.");let i=[];this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),i=this.parseCommaList(">",!0),this.consume(">"));let j=new cw(bP.fromHex(d),new cm(f),new cm(h),i);return new cv(j)}throw Error("Invalid type tag.")}};function c6(a){if(c0(a,["boolean","string"]),"boolean"==typeof a)return a;if("true"===a)return!0;if("false"===a)return!1;throw Error("Invalid boolean string.")}function c7(a){if(c0(a,["number","string"]),"number"==typeof a)return a;let b=Number.parseInt(a,10);if(Number.isNaN(b))throw Error("Invalid number string.");return b}function c8(a){return c0(a,["number","bigint","string"]),BigInt(a)}function c9(a,b,c){if(b instanceof co){c.serializeBool(c6(a));return}if(b instanceof cp){c.serializeU8(c7(a));return}if(b instanceof cq){c.serializeU64(c8(a));return}if(b instanceof cr){c.serializeU128(c8(a));return}if(b instanceof cs){let d;if("string"==typeof a||a instanceof v)d=bP.fromHex(a);else if(a instanceof bP)d=a;else throw Error("Invalid account address.");d.serialize(c);return}if(b instanceof cu){if(b.value instanceof cp){if(a instanceof Uint8Array){c.serializeBytes(a);return}if("string"==typeof a){c.serializeStr(a);return}}if(!(a instanceof Array))throw Error("Invalid vector args.");c.serializeU32AsUleb128(a.length),a.forEach(a=>c9(a,b.value,c));return}if(b instanceof cv){let{address:e,module_name:f,name:g}=b.value;if("0x1::string::String"!=`${v.fromUint8Array(e.address).toShortString()}::${f.value}::${g.value}`)throw Error("The only supported struct arg is of type 0x1::string::String");c0(a,["string"]),c.serializeStr(a);return}throw Error("Unsupported arg type.")}var da,db=class{constructor(a,b){this.rawTxnBuilder=b,this.signingFunction=a}build(a,b,c){if(!this.rawTxnBuilder)throw Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(a,b,c)}static getSigningMessage(a){let b=e.DZ.create();if(a instanceof cx)b.update("APTOS::RawTransaction");else if(a instanceof cG)b.update("APTOS::RawTransactionWithData");else throw Error("Unknown transaction type.");let c=b.digest(),d=b$(a),f=new Uint8Array(c.length+d.length);return f.set(c),f.set(d,c.length),f}},dc=class extends db{constructor(a,b,c){super(a,c),this.publicKey=b}rawToSigned(a){let b=db.getSigningMessage(a),c=this.signingFunction(b),d=new cg(new b9(this.publicKey),c);return new cE(a,d)}sign(a){return b$(this.rawToSigned(a))}},dd=class{constructor(a,b){this.abiMap=new Map,a.forEach(a=>{let b=new bW(a),c=cZ.deserialize(b),d;if(c instanceof c_){let e=c,{address:f,name:g}=e.module_name;d=`${v.fromUint8Array(f.address).toShortString()}::${g.value}::${e.name}`}else{let h=c;d=h.name}if(this.abiMap.has(d))throw Error("Found conflicting ABI interfaces");this.abiMap.set(d,c)}),this.builderConfig={maxGasAmount:BigInt(2e5),expSecFromNow:20,...b}}static toBCSArgs(a,b){if(a.length!==b.length)throw Error("Wrong number of args provided.");return b.map((b,c)=>{let d=new bU;return c9(b,a[c].type_tag,d),d.getBytes()})}static toTransactionArguments(a,b){if(a.length!==b.length)throw Error("Wrong number of args provided.");return b.map((b,c)=>(function(a,b){if(b instanceof co)return new cR(c6(a));if(b instanceof cp)return new cM(c7(a));if(b instanceof cq)return new cN(c8(a));if(b instanceof cr)return new cO(c8(a));if(b instanceof cs){let c;if("string"==typeof a||a instanceof v)c=bP.fromHex(a);else if(a instanceof bP)c=a;else throw Error("Invalid account address.");return new cP(c)}if(b instanceof cu&&b.value instanceof cp){if(!(a instanceof Uint8Array))throw Error(`${a} should be an instance of Uint8Array`);return new cQ(a)}throw Error("Unknown type for TransactionArgument.")})(b,a[c].type_tag))}setSequenceNumber(a){this.builderConfig.sequenceNumber=BigInt(a)}buildTransactionPayload(a,b,c){let d=b.map(a=>new c5(a).parseTypeTag()),e;if(!this.abiMap.has(a))throw Error(`Cannot find function: ${a}`);let f=this.abiMap.get(a);if(f instanceof c_){let g=f,h=dd.toBCSArgs(g.args,c);e=new cJ(new cz(g.module_name,new cm(g.name),d,h))}else if(f instanceof c$){let i=f,j=dd.toTransactionArguments(i.args,c);e=new cI(new cy(i.code,d,j))}else throw Error("Unknown ABI format.");return e}build(a,b,c){let{sender:d,sequenceNumber:e,gasUnitPrice:f,maxGasAmount:g,expSecFromNow:h,chainId:i}=this.builderConfig;if(!f)throw Error("No gasUnitPrice provided.");let j=d instanceof bP?d:bP.fromHex(d),k=BigInt(Math.floor(Date.now()/1e3)+Number(h)),l=this.buildTransactionPayload(a,b,c);if(l)return new cx(j,BigInt(e),l,BigInt(g),BigInt(f),k,new cK(Number(i)));throw Error("Invalid ABI.")}},de=class{constructor(a,b){this.aptosClient=a,this.builderConfig=b}async fetchABI(a){let b=await this.aptosClient.getAccountModules(a),c=b.map(a=>a.abi).flatMap(a=>a.exposed_functions.filter(a=>a.is_entry).map(b=>({fullName:`${a.address}::${a.name}::${b.name}`,...b}))),d=new Map;return c.forEach(a=>{d.set(a.fullName,a)}),d}async build(a,b,c){var d;a=a.replace(/^0[xX]0*/g,"0x");let e=a.split("::");if(3!==e.length)throw Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");let[f,g]=a.split("::"),h=await this.fetchABI(f);if(!h.has(a))throw Error(`${a} doesn't exist.`);let i=h.get(a),j=i.params.filter(a=>"signer"!==a&&"&signer"!==a),k=j.map((a,b)=>new cY(`var${b}`,new c5(a).parseTypeTag())),l=new c_(i.name,cB.fromStr(`${f}::${g}`),"",i.generic_type_params.map((a,b)=>new cX(`${b}`)),k),{sender:m,...n}=this.builderConfig,o=m instanceof bP?v.fromUint8Array(m.address):m,[{sequence_number:p},q,{gas_estimate:r}]=await Promise.all([(null==n?void 0:n.sequenceNumber)?Promise.resolve({sequence_number:null==n?void 0:n.sequenceNumber}):this.aptosClient.getAccount(o),(null==n?void 0:n.chainId)?Promise.resolve(null==n?void 0:n.chainId):this.aptosClient.getChainId(),(null==n?void 0:n.gasUnitPrice)?Promise.resolve({gas_estimate:null==n?void 0:n.gasUnitPrice}):this.aptosClient.estimateGasPrice()]),s=new dd([b$(l)],{sender:m,sequenceNumber:p,chainId:q,gasUnitPrice:BigInt(r),...n});return s.build(a,b,c)}};o([x({ttlMs:6e5,hashFunction:void 0})],de.prototype,"fetchABI",1);var df=class{constructor(a,b,c=!1){if(!a)throw Error("Node URL cannot be empty.");let d=null==b?{}:{...b};if(c)this.nodeUrl=a;else{var e;let f;this.nodeUrl=((f=`${e=a}`).endsWith("/")&&(f=f.substring(0,f.length-1)),f.endsWith("/v1")||(f=`${f}/v1`),f)}d.BASE=this.nodeUrl,(null==b?void 0:b.WITH_CREDENTIALS)=== !1?d.WITH_CREDENTIALS=!1:d.WITH_CREDENTIALS=!0,this.client=new ai(d)}async getAccount(a){return this.client.accounts.getAccount(v.ensure(a).hex())}async getAccountTransactions(a,b){var c;return this.client.transactions.getAccountTransactions(v.ensure(a).hex(),null==(c=null==b?void 0:b.start)?void 0:c.toString(),null==b?void 0:b.limit)}async getAccountModules(a,b){var c;return this.client.accounts.getAccountModules(v.ensure(a).hex(),null==(c=null==b?void 0:b.ledgerVersion)?void 0:c.toString())}async getAccountModule(a,b,c){var d;return this.client.accounts.getAccountModule(v.ensure(a).hex(),b,null==(d=null==c?void 0:c.ledgerVersion)?void 0:d.toString())}async getAccountResources(a,b){var c;return this.client.accounts.getAccountResources(v.ensure(a).hex(),null==(c=null==b?void 0:b.ledgerVersion)?void 0:c.toString())}async getAccountResource(a,b,c){var d;return this.client.accounts.getAccountResource(v.ensure(a).hex(),b,null==(d=null==c?void 0:c.ledgerVersion)?void 0:d.toString())}static generateBCSTransaction(a,b){let c=new dc(b=>{let c=a.signBuffer(b);return new bN.Ed25519Signature(c.toUint8Array())},a.pubKey().toUint8Array());return c.sign(b)}static generateBCSSimulation(a,b){let c=new dc(a=>{let b=new Uint8Array(64);return new bN.Ed25519Signature(b)},a.pubKey().toUint8Array());return c.sign(b)}async generateTransaction(a,b,c){let d={sender:a};if((null==c?void 0:c.sequence_number)&&(d.sequenceNumber=c.sequence_number),(null==c?void 0:c.gas_unit_price)&&(d.gasUnitPrice=c.gas_unit_price),(null==c?void 0:c.max_gas_amount)&&(d.maxGasAmount=c.max_gas_amount),null==c?void 0:c.expiration_timestamp_secs){let e=Number.parseInt(c.expiration_timestamp_secs,10);d.expSecFromNow=e-Math.floor(Date.now()/1e3)}let f=new de(this,d);return f.build(b.function,b.type_arguments,b.arguments)}async signTransaction(a,b){return Promise.resolve(df.generateBCSTransaction(a,b))}async getEventsByCreationNumber(a,b,c){var d;return this.client.events.getEventsByCreationNumber(v.ensure(a).hex(),b.toString(),null==(d=null==c?void 0:c.start)?void 0:d.toString(),null==c?void 0:c.limit)}async getEventsByEventHandle(a,b,c,d){var e;return this.client.events.getEventsByEventHandle(v.ensure(a).hex(),b,c,null==(e=null==d?void 0:d.start)?void 0:e.toString(),null==d?void 0:d.limit)}async submitTransaction(a){return this.submitSignedBCSTransaction(a)}async simulateTransaction(a,b,c){let d;if(a instanceof B)d=df.generateBCSSimulation(a,b);else{let e=new dc(()=>{let a=new Uint8Array(64);return new bN.Ed25519Signature(a)},a.toBytes());d=e.sign(b)}return this.submitBCSSimulation(d,c)}async submitSignedBCSTransaction(a){return this.client.request.request({url:"/transactions",method:"POST",body:a,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(a,b){var c,d,e;let f={estimate_gas_unit_price:null!=(c=null==b?void 0:b.estimateGasUnitPrice)&&c,estimate_max_gas_amount:null!=(d=null==b?void 0:b.estimateMaxGasAmount)&&d,estimate_prioritized_gas_unit_price:null!=(e=null==b?void 0:b.estimatePrioritizedGasUnitPrice)&&e};return this.client.request.request({url:"/transactions/simulate",query:f,method:"POST",body:a,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(a){var b;return this.client.transactions.getTransactions(null==(b=null==a?void 0:a.start)?void 0:b.toString(),null==a?void 0:a.limit)}async getTransactionByHash(a){return this.client.transactions.getTransactionByHash(a)}async getTransactionByVersion(a){return this.client.transactions.getTransactionByVersion(a.toString())}async transactionPending(a){try{let b=await this.client.transactions.getTransactionByHash(a);return"pending_transaction"===b.type}catch(c){if((null==c?void 0:c.status)===404)return!0;throw c}}async waitForTransactionWithResult(a,b){var c,d;let e=null!=(c=null==b?void 0:b.timeoutSecs)?c:20,f=null!=(d=null==b?void 0:b.checkSuccess)&&d,g=!0,h=0,i;for(;g&&!(h>=e);){try{if(i=await this.client.transactions.getTransactionByHash(a),!(g="pending_transaction"===i.type))break}catch(j){let k=j instanceof D,l=k&&404!==j.status&&j.status>=400&&j.status<500;if(!k||l)throw j}await w(1e3),h+=1}if(void 0===i)throw Error(`Waiting for transaction ${a} failed`);if(g)throw new di(`Waiting for transaction ${a} timed out after ${e} seconds`,i);if(!f)return i;if(!(null==i?void 0:i.success))throw new dj(`Transaction ${a} committed to the blockchain but execution failed`,i);return i}async waitForTransaction(a,b){await this.waitForTransactionWithResult(a,b)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){let a=await this.getLedgerInfo();return a.chain_id}async getTableItem(a,b,c){var d;let e=await this.client.tables.getTableItem(a,b,null==(d=null==c?void 0:c.ledgerVersion)?void 0:d.toString());return e}async generateRawTransaction(a,b,c){let[{sequence_number:d},e,{gas_estimate:f}]=await Promise.all([this.getAccount(a),this.getChainId(),(null==c?void 0:c.gasUnitPrice)?Promise.resolve({gas_estimate:c.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:g,gasUnitPrice:h,expireTimestamp:i}={maxGasAmount:BigInt(2e5),gasUnitPrice:BigInt(f),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+20),...c};return new bN.RawTransaction(bN.AccountAddress.fromHex(a),BigInt(d),b,g,h,i,new bN.ChainId(e))}async generateSignSubmitTransaction(a,b,c){let d=await this.generateRawTransaction(a.address(),b,c),e=df.generateBCSTransaction(a,d),f=await this.submitSignedBCSTransaction(e);return f.hash}async publishPackage(a,b,c,d){let e=new bU;bX(c,e);let f=new bN.TransactionPayloadEntryFunction(bN.EntryFunction.natural("0x1::code","publish_package_txn",[],[b6(b),e.getBytes()]));return this.generateSignSubmitTransaction(a,f,d)}async generateSignSubmitWaitForTransaction(a,b,c){let d=await this.generateSignSubmitTransaction(a,b,c);return this.waitForTransactionWithResult(d,c)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(a){let b="0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>",[{gas_estimate:c},d]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(a)]),e=d.find(a=>a.type===b),f=BigInt(e.data.coin.value);return f/BigInt(c)}async rotateAuthKeyEd25519(a,b,c){let{sequence_number:d,authentication_key:e}=await this.getAccount(a.address()),f=new B(b),g=new bN.RotationProofChallenge(bN.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(d),bN.AccountAddress.fromHex(a.address()),new bN.AccountAddress(new v(e).toUint8Array()),f.pubKey().toUint8Array()),h=v.fromUint8Array(b$(g)),i=a.signHexString(h),j=f.signHexString(h),k=new bN.TransactionPayloadEntryFunction(bN.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[b0(0),b6(a.pubKey().toUint8Array()),b0(0),b6(f.pubKey().toUint8Array()),b6(i.toUint8Array()),b6(j.toUint8Array())])),l=await this.generateRawTransaction(a.address(),k,c),m=df.generateBCSTransaction(a,l);return this.submitSignedBCSTransaction(m)}async lookupOriginalAddress(a){let b=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:c}}=b.data,d=await this.getTableItem(c,{key_type:"address",value_type:"address",key:v.ensure(a).hex()});return new v(d)}async getBlockByHeight(a,b){return this.client.blocks.getBlockByHeight(a,b)}async getBlockByVersion(a,b){return this.client.blocks.getBlockByVersion(a,b)}clearCache(a){!function(a){let b=new Set;for(let c of a){let d=y.get(c);if(d)for(let e of d)b.has(e)||(e.clear(),b.add(e))}return b.size}(a)}},dg=df;o([dk],dg.prototype,"getAccount",1),o([dk],dg.prototype,"getAccountTransactions",1),o([dk],dg.prototype,"getAccountModules",1),o([dk],dg.prototype,"getAccountModule",1),o([dk],dg.prototype,"getAccountResources",1),o([dk],dg.prototype,"getAccountResource",1),o([dk],dg.prototype,"getEventsByCreationNumber",1),o([dk],dg.prototype,"getEventsByEventHandle",1),o([dk],dg.prototype,"submitSignedBCSTransaction",1),o([dk],dg.prototype,"submitBCSSimulation",1),o([dk],dg.prototype,"getTransactions",1),o([dk],dg.prototype,"getTransactionByHash",1),o([dk],dg.prototype,"getTransactionByVersion",1),o([dk],dg.prototype,"getLedgerInfo",1),o([x()],dg.prototype,"getChainId",1),o([dk],dg.prototype,"getTableItem",1),o([dk,x({ttlMs:3e5,tags:["gas_estimates"]})],dg.prototype,"estimateGasPrice",1),o([dk],dg.prototype,"estimateMaxGasAmount",1),o([dk],dg.prototype,"getBlockByHeight",1),o([dk],dg.prototype,"getBlockByVersion",1);var dh=class extends Error{constructor(a,b,c,d){super(b),this.status=a,this.message=b,this.errorCode=c,this.vmErrorCode=d}},di=class extends Error{constructor(a,b){super(a),this.lastSubmittedTransaction=b}},dj=class extends Error{constructor(a,b){super(a),this.transaction=b}};function dk(a,b,c){let d=c.value;return c.value=async function(...a){var b,c;try{let e=await d.apply(this,[...a]);return e}catch(f){if(f instanceof D)throw new dh(f.status,JSON.stringify({message:f.message,...f.body}),null==(b=f.body)?void 0:b.error_code,null==(c=f.body)?void 0:c.vm_error_code);throw f}},c}}}])